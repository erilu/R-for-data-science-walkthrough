<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 14 Strings | R for Data Science Walkthrough</title>
  <meta name="description" content="This is a walkthrough of the book, R for Data Science (r4ds), with notes and solutions for the exercises." />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 14 Strings | R for Data Science Walkthrough" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a walkthrough of the book, R for Data Science (r4ds), with notes and solutions for the exercises." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 14 Strings | R for Data Science Walkthrough" />
  
  <meta name="twitter:description" content="This is a walkthrough of the book, R for Data Science (r4ds), with notes and solutions for the exercises." />
  

<meta name="author" content="Erick Lu" />


<meta name="date" content="2020-01-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chapter-13-relational-data.html"/>
<link rel="next" href="chapter-15-factors.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Data Science Walkthrough</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-me"><i class="fa fa-check"></i>About me</a></li>
</ul></li>
<li class="part"><span><b>I Data Visualization</b></span></li>
<li><a href="chapter-3.html#chapter-3"><strong>Chapter 3</strong></a><ul>
<li><a href="chapter-3.html#notes---creating-a-ggplot"><strong>3.2</strong> Notes - Creating a ggplot</a></li>
<li><a href="chapter-3.html#exercises"><strong>3.2.4</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html"><i class="fa fa-check"></i>1. Run ggplot(data = mpg). What do you see?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#how-many-rows-are-in-mpg-how-many-columns"><i class="fa fa-check"></i>2. How many rows are in mpg? How many columns?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-does-the-drv-variable-describe-read-the-help-for-mpg-to-find-out."><i class="fa fa-check"></i>3. What does the drv variable describe? Read the help for ?mpg to find out.</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#make-a-scatterplot-of-hwy-vs-cyl."><i class="fa fa-check"></i>4. Make a scatterplot of hwy vs cyl.</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-happens-if-you-make-a-scatterplot-of-class-vs-drv-why-is-the-plot-not-useful"><i class="fa fa-check"></i>5. What happens if you make a scatterplot of class vs drv? Why is the plot not useful?</a></li>
</ul></li>
<li><a href="chapter-3.html#notes---aesthetic-mappings"><strong>3.3</strong> Notes - Aesthetic Mappings</a></li>
<li><a href="chapter-3.html#exercises-1"><strong>3.3.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#whats-gone-wrong-with-this-code-why-are-the-points-not-blue"><i class="fa fa-check"></i>1. What’s gone wrong with this code? Why are the points not blue?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#which-variables-in-mpg-are-categorical-which-variables-are-continuous-hint-type-mpg-to-read-the-documentation-for-the-dataset.-how-can-you-see-this-information-when-you-run-mpg"><i class="fa fa-check"></i>2. Which variables in mpg are categorical? Which variables are continuous? (Hint: type ?mpg to read the documentation for the dataset). How can you see this information when you run mpg?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#map-a-continuous-variable-to-color-size-and-shape.-how-do-these-aesthetics-behave-differently-for-categorical-vs.continuous-variables"><i class="fa fa-check"></i>3. Map a continuous variable to color, size, and shape. How do these aesthetics behave differently for categorical vs. continuous variables?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-happens-if-you-map-the-same-variable-to-multiple-aesthetics"><i class="fa fa-check"></i>4. What happens if you map the same variable to multiple aesthetics?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-does-the-stroke-aesthetic-do-what-shapes-does-it-work-with-hint-use-geom_point"><i class="fa fa-check"></i>5. What does the stroke aesthetic do? What shapes does it work with? (Hint: use ?geom_point)</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-happens-if-you-map-an-aesthetic-to-something-other-than-a-variable-name-like-aescolour-displ-5"><i class="fa fa-check"></i>6. What happens if you map an aesthetic to something other than a variable name, like aes(colour = displ &lt; 5)?</a></li>
</ul></li>
<li><a href="chapter-3.html#notes---facets"><strong>3.5</strong> Notes - Facets</a></li>
<li><a href="chapter-3.html#exercises-2"><strong>3.5.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-happens-if-you-facet-on-a-continuous-variable"><i class="fa fa-check"></i>1. What happens if you facet on a continuous variable?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-do-the-empty-cells-in-plot-with-facet_griddrv-cyl-mean-how-do-they-relate-to-this-plot"><i class="fa fa-check"></i>2. What do the empty cells in plot with facet_grid(drv ~ cyl) mean? How do they relate to this plot?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-plots-does-the-following-code-make-what-does-.-do"><i class="fa fa-check"></i>3. What plots does the following code make? What does . do?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#take-the-first-faceted-plot-in-this-section"><i class="fa fa-check"></i>4. Take the first faceted plot in this section:</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#read-facet_wrap.-what-does-nrow-do-what-does-ncol-do-what-other-options-control-the-layout-of-the-individual-panels-why-doesnt-facet_grid-have-nrow-and-ncol-argument"><i class="fa fa-check"></i>5. Read ?facet_wrap. What does nrow do? What does ncol do? What other options control the layout of the individual panels? Why doesn’t facet_grid() have nrow and ncol argument?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#when-using-facet_grid-you-should-usually-put-the-variable-with-more-unique-levels-in-the-columns.-why"><i class="fa fa-check"></i>6. When using facet_grid() you should usually put the variable with more unique levels in the columns. Why?</a></li>
</ul></li>
<li><a href="chapter-3.html#notes---geometric-objects"><strong>3.6</strong> Notes - Geometric objects</a></li>
<li><a href="chapter-3.html#exercises-3"><strong>3.6.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-geom-would-you-use-to-draw-a-line-chart-a-boxplot-a-histogram-an-area-chart"><i class="fa fa-check"></i>1. What geom would you use to draw a line chart? A boxplot? A histogram? An area chart?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#run-this-code-in-your-head-and-predict-what-the-output-will-look-like.-then-run-the-code-in-r-and-check-your-predictions."><i class="fa fa-check"></i>2. Run this code in your head and predict what the output will look like. Then, run the code in R and check your predictions.</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-does-show.legend-false-do-what-happens-if-you-remove-it-why-do-you-think-i-used-it-earlier-in-the-chapter"><i class="fa fa-check"></i>3. What does show.legend = FALSE do? What happens if you remove it? Why do you think I used it earlier in the chapter?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-does-the-se-argument-to-geom_smooth-do"><i class="fa fa-check"></i>4. What does the se argument to geom_smooth() do?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#will-these-two-graphs-look-different-whywhy-not"><i class="fa fa-check"></i>5. Will these two graphs look different? Why/why not?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#recreate-the-r-code-necessary-to-generate-the-following-graphs."><i class="fa fa-check"></i>6. Recreate the R code necessary to generate the following graphs.</a></li>
</ul></li>
<li><a href="chapter-3.html#notes---statistical-transformations"><strong>3.7</strong> Notes - Statistical Transformations</a></li>
<li><a href="chapter-3.html#exercises-4"><strong>3.7.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-is-the-default-geom-associated-with-stat_summary-how-could-you-rewrite-the-previous-plot-to-use-that-geom-function-instead-of-the-stat-function"><i class="fa fa-check"></i>1. What is the default geom associated with stat_summary()? How could you rewrite the previous plot to use that geom function instead of the stat function?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-does-geom_col-do-how-is-it-different-to-geom_bar"><i class="fa fa-check"></i>2. What does geom_col() do? How is it different to geom_bar()?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#most-geoms-and-stats-come-in-pairs-that-are-almost-always-used-in-concert.-read-through-the-documentation-and-make-a-list-of-all-the-pairs.-what-do-they-have-in-common"><i class="fa fa-check"></i>3. Most geoms and stats come in pairs that are almost always used in concert. Read through the documentation and make a list of all the pairs. What do they have in common?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-variables-does-stat_smooth-compute-what-parameters-control-its-behaviour"><i class="fa fa-check"></i>4. What variables does stat_smooth() compute? What parameters control its behaviour?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#in-our-proportion-bar-chart-we-need-to-set-group-1.-why-in-other-words-what-is-the-problem-with-these-two-graphs"><i class="fa fa-check"></i>5. In our proportion bar chart, we need to set group = 1. Why? In other words what is the problem with these two graphs?</a></li>
</ul></li>
<li><a href="chapter-3.html#notes---position-adjustments"><strong>3.8</strong> Notes - Position Adjustments</a></li>
<li><a href="chapter-3.html#exercises-5"><strong>3.8.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-is-the-problem-with-this-plot-how-could-you-improve-it"><i class="fa fa-check"></i>1. What is the problem with this plot? How could you improve it?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-parameters-to-geom_jitter-control-the-amount-of-jittering"><i class="fa fa-check"></i>2. What parameters to geom_jitter() control the amount of jittering?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#compare-and-contrast-geom_jitter-with-geom_count."><i class="fa fa-check"></i>3. Compare and contrast geom_jitter() with geom_count().</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#whats-the-default-position-adjustment-for-geom_boxplot-create-a-visualisation-of-the-mpg-dataset-that-demonstrates-it."><i class="fa fa-check"></i>4. What’s the default position adjustment for geom_boxplot()? Create a visualisation of the mpg dataset that demonstrates it.</a></li>
</ul></li>
<li><a href="chapter-3.html#notes---coordinate-systems"><strong>3.9</strong> Notes - Coordinate Systems</a></li>
<li><a href="chapter-3.html#exercises-6"><strong>3.9.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#turn-a-stacked-bar-chart-into-a-pie-chart-using-coord_polar."><i class="fa fa-check"></i>1. Turn a stacked bar chart into a pie chart using coord_polar().</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-does-labs-do-read-the-documentation."><i class="fa fa-check"></i>2. What does labs() do? Read the documentation.</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#whats-the-difference-between-coord_quickmap-and-coord_map"><i class="fa fa-check"></i>3. What’s the difference between coord_quickmap() and coord_map()?</a></li>
<li class="chapter" data-level="" data-path="chapter-3.html"><a href="chapter-3.html#what-does-the-plot-below-tell-you-about-the-relationship-between-city-and-highway-mpg-why-is-coord_fixed-important-what-does-geom_abline-do"><i class="fa fa-check"></i>4. What does the plot below tell you about the relationship between city and highway mpg? Why is coord_fixed() important? What does geom_abline() do?</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Data Transformation</b></span></li>
<li><a href="chapter-4.html#chapter-4"><strong>Chapter 4</strong></a><ul>
<li><a href="chapter-4.html#practice"><strong>4.4</strong> Practice</a><ul>
<li class="chapter" data-level="" data-path="chapter-4.html"><a href="chapter-4.html"><i class="fa fa-check"></i>1. Why does this code not work?</a></li>
<li class="chapter" data-level="" data-path="chapter-4.html"><a href="chapter-4.html#tweak-each-of-the-following-r-commands-so-that-they-run-correctly"><i class="fa fa-check"></i>2. Tweak each of the following R commands so that they run correctly:</a></li>
<li class="chapter" data-level="" data-path="chapter-4.html"><a href="chapter-4.html#press-alt-shift-k.-what-happens-how-can-you-get-to-the-same-place-using-the-menus"><i class="fa fa-check"></i>3. Press Alt + Shift + K. What happens? How can you get to the same place using the menus?</a></li>
</ul></li>
</ul></li>
<li><a href="chapter-5.html#chapter-5"><strong>Chapter 5</strong></a><ul>
<li><a href="chapter-5.html#notes---filter-rows-with-filter"><strong>5.2</strong> Notes - Filter rows with filter()</a><ul>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html"><i class="fa fa-check"></i>5.2.1 Comparisons</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#logical-operators"><i class="fa fa-check"></i>5.2.2 Logical Operators</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#missing-values"><i class="fa fa-check"></i>5.2.3 Missing values</a></li>
</ul></li>
<li><a href="chapter-5.html#exercises-7"><strong>5.2.4</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#find-all-flights-that"><i class="fa fa-check"></i>1. Find all flights that</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#how-many-flights-have-a-missing-dep_time-what-other-variables-are-missing-what-might-these-rows-represent"><i class="fa fa-check"></i>2. How many flights have a missing dep_time? What other variables are missing? What might these rows represent?</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#why-is-na-0-not-missing-why-is-na-true-not-missing-why-is-false-na-not-missing-can-you-figure-out-the-general-rule-na-0-is-a-tricky-counterexample"><i class="fa fa-check"></i>3. Why is NA ^ 0 not missing? Why is NA | TRUE not missing? Why is FALSE &amp; NA not missing? Can you figure out the general rule? (NA * 0 is a tricky counterexample!)</a></li>
</ul></li>
<li><a href="chapter-5.html#notes---arrange-rows-with-arrange"><strong>5.3</strong> Notes - Arrange rows with arrange()</a></li>
<li><a href="chapter-5.html#exercises-8"><strong>5.3.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#how-could-you-use-arrange-to-sort-all-missing-values-to-the-start-hint-use-is.na."><i class="fa fa-check"></i>1. How could you use arrange() to sort all missing values to the start? (Hint: use is.na()).</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#sort-flights-to-find-the-most-delayed-flights.-find-the-flights-that-left-earliest."><i class="fa fa-check"></i>2. Sort flights to find the most delayed flights. Find the flights that left earliest.</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#sort-flights-to-find-the-fastest-flights."><i class="fa fa-check"></i>3. Sort flights to find the fastest flights.</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#which-flights-travelled-the-longest-which-travelled-the-shortest"><i class="fa fa-check"></i>4. Which flights travelled the longest? Which travelled the shortest?</a></li>
</ul></li>
<li><a href="chapter-5.html#notes---select-columns-with-select"><strong>5.4</strong> Notes - Select columns with select()</a></li>
<li><a href="chapter-5.html#exercises-9"><strong>5.4.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#brainstorm-as-many-ways-as-possible-to-select-dep_time-dep_delay-arr_time-and-arr_delay-from-flights."><i class="fa fa-check"></i>1. Brainstorm as many ways as possible to select dep_time, dep_delay, arr_time, and arr_delay from flights.</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#what-happens-if-you-include-the-name-of-a-variable-multiple-times-in-a-select-call"><i class="fa fa-check"></i>2. What happens if you include the name of a variable multiple times in a select() call?</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#what-does-the-one_of-function-do-why-might-it-be-helpful-in-conjunction-with-this-vector"><i class="fa fa-check"></i>3. What does the one_of() function do? Why might it be helpful in conjunction with this vector?</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#does-the-result-of-running-the-following-code-surprise-you-how-do-the-select-helpers-deal-with-case-by-default-how-can-you-change-that-default"><i class="fa fa-check"></i>4. Does the result of running the following code surprise you? How do the select helpers deal with case by default? How can you change that default?</a></li>
</ul></li>
<li><a href="chapter-5.html#notes---add-new-variables-with-mutate"><strong>5.5</strong> Notes - Add new variables with mutate()</a></li>
<li><a href="chapter-5.html#exercises-10"><strong>5.5.2</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#currently-dep_time-and-sched_dep_time-are-convenient-to-look-at-but-hard-to-compute-with-because-theyre-not-really-continuous-numbers.-convert-them-to-a-more-convenient-representation-of-number-of-minutes-since-midnight."><i class="fa fa-check"></i>1. Currently dep_time and sched_dep_time are convenient to look at, but hard to compute with because they’re not really continuous numbers. Convert them to a more convenient representation of number of minutes since midnight.</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#compare-air_time-with-arr_time---dep_time.-what-do-you-expect-to-see-what-do-you-see-what-do-you-need-to-do-to-fix-it"><i class="fa fa-check"></i>2. Compare air_time with arr_time - dep_time. What do you expect to see? What do you see? What do you need to do to fix it?</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#compare-dep_time-sched_dep_time-and-dep_delay.-how-would-you-expect-those-three-numbers-to-be-related"><i class="fa fa-check"></i>3. Compare dep_time, sched_dep_time, and dep_delay. How would you expect those three numbers to be related?</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#find-the-10-most-delayed-flights-using-a-ranking-function.-how-do-you-want-to-handle-ties-carefully-read-the-documentation-for-min_rank."><i class="fa fa-check"></i>4. Find the 10 most delayed flights using a ranking function. How do you want to handle ties? Carefully read the documentation for min_rank().</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#what-does-13-110-return-why"><i class="fa fa-check"></i>5. What does 1:3 + 1:10 return? Why?</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#what-trigonometric-functions-does-r-provide"><i class="fa fa-check"></i>6. What trigonometric functions does R provide?</a></li>
</ul></li>
<li><a href="chapter-5.html#notes---grouped-summaries-with-summarise"><strong>5.6</strong> Notes - Grouped summaries with summarise()</a><ul>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#combining-multiple-operations-with-the-pipe"><i class="fa fa-check"></i>5.6.1 Combining multiple operations with the pipe</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#missing-values-1"><i class="fa fa-check"></i>5.6.2 Missing values</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#counts"><i class="fa fa-check"></i>5.6.3 Counts</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#useful-summary-functions"><i class="fa fa-check"></i>5.6.4 Useful summary functions</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#grouping-by-multiple-variables"><i class="fa fa-check"></i>5.6.5 Grouping by multiple variables</a></li>
</ul></li>
<li><a href="chapter-5.html#exercises-11"><strong>5.6.7</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#brainstorm-at-least-5-different-ways-to-assess-the-typical-delay-characteristics-of-a-group-of-flights.-consider-the-following-scenarios"><i class="fa fa-check"></i>1. Brainstorm at least 5 different ways to assess the typical delay characteristics of a group of flights. Consider the following scenarios:</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#come-up-with-another-approach-that-will-give-you-the-same-output-as-not_cancelled-countdest-and-not_cancelled-counttailnum-wt-distance-without-using-count."><i class="fa fa-check"></i>2. Come up with another approach that will give you the same output as not_cancelled %&gt;% count(dest) and not_cancelled %&gt;% count(tailnum, wt = distance) (without using count()).</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#our-definition-of-cancelled-flights-is.nadep_delay-is.naarr_delay-is-slightly-suboptimal.-why-which-is-the-most-important-column"><i class="fa fa-check"></i>3. Our definition of cancelled flights (is.na(dep_delay) | is.na(arr_delay) ) is slightly suboptimal. Why? Which is the most important column?</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#look-at-the-number-of-cancelled-flights-per-day.-is-there-a-pattern-is-the-proportion-of-cancelled-flights-related-to-the-average-delay"><i class="fa fa-check"></i>4. Look at the number of cancelled flights per day. Is there a pattern? Is the proportion of cancelled flights related to the average delay?</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#which-carrier-has-the-worst-delays-challenge-can-you-disentangle-the-effects-of-bad-airports-vs.bad-carriers-whywhy-not-hint-think-about-flights-group_bycarrier-dest-summarisen"><i class="fa fa-check"></i>5. Which carrier has the worst delays? Challenge: can you disentangle the effects of bad airports vs. bad carriers? Why/why not? (Hint: think about flights %&gt;% group_by(carrier, dest) %&gt;% summarise(n()))</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#what-does-the-sort-argument-to-count-do.-when-might-you-use-it"><i class="fa fa-check"></i>6. What does the sort argument to count() do. When might you use it?</a></li>
</ul></li>
<li><a href="chapter-5.html#notes---grouped-mutates-and-filters"><strong>5.7</strong> Notes - Grouped mutates (and filters)</a></li>
<li><a href="chapter-5.html#exercises-12"><strong>5.7.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#refer-back-to-the-lists-of-useful-mutate-and-filtering-functions.-describe-how-each-operation-changes-when-you-combine-it-with-grouping."><i class="fa fa-check"></i>1. Refer back to the lists of useful mutate and filtering functions. Describe how each operation changes when you combine it with grouping.</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#which-plane-tailnum-has-the-worst-on-time-record"><i class="fa fa-check"></i>2. Which plane (tailnum) has the worst on-time record?</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#what-time-of-day-should-you-fly-if-you-want-to-avoid-delays-as-much-as-possible"><i class="fa fa-check"></i>3. What time of day should you fly if you want to avoid delays as much as possible?</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#for-each-destination-compute-the-total-minutes-of-delay.-for-each-flight-compute-the-proportion-of-the-total-delay-for-its-destination."><i class="fa fa-check"></i>4. For each destination, compute the total minutes of delay. For each, flight, compute the proportion of the total delay for its destination.</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#delays-are-typically-temporally-correlated-even-once-the-problem-that-caused-the-initial-delay-has-been-resolved-later-flights-are-delayed-to-allow-earlier-flights-to-leave.-using-lag-explore-how-the-delay-of-a-flight-is-related-to-the-delay-of-the-immediately-preceding-flight."><i class="fa fa-check"></i>5. Delays are typically temporally correlated: even once the problem that caused the initial delay has been resolved, later flights are delayed to allow earlier flights to leave. Using lag() explore how the delay of a flight is related to the delay of the immediately preceding flight.</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#look-at-each-destination.-can-you-find-flights-that-are-suspiciously-fast-i.e.flights-that-represent-a-potential-data-entry-error.-compute-the-air-time-a-flight-relative-to-the-shortest-flight-to-that-destination.-which-flights-were-most-delayed-in-the-air"><i class="fa fa-check"></i>6. Look at each destination. Can you find flights that are suspiciously fast? (i.e. flights that represent a potential data entry error). Compute the air time a flight relative to the shortest flight to that destination. Which flights were most delayed in the air?</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#find-all-destinations-that-are-flown-by-at-least-two-carriers.-use-that-information-to-rank-the-carriers."><i class="fa fa-check"></i>7. Find all destinations that are flown by at least two carriers. Use that information to rank the carriers.</a></li>
<li class="chapter" data-level="" data-path="chapter-5.html"><a href="chapter-5.html#for-each-plane-count-the-number-of-flights-before-the-first-delay-of-greater-than-1-hour."><i class="fa fa-check"></i>8. For each plane, count the number of flights before the first delay of greater than 1 hour.</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Exploratory Data Analysis</b></span></li>
<li><a href="chapter-7.html#chapter-7"><strong>Chapter 7</strong></a><ul>
<li><a href="chapter-7.html#notes---visualizing-distributions"><strong>7.3.1</strong> Notes - Visualizing distributions</a></li>
<li><a href="chapter-7.html#exercises-13"><strong>7.3.4</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html"><i class="fa fa-check"></i>1. Explore the distribution of each of the x, y, and z variables in diamonds. What do you learn? Think about a diamond and how you might decide which dimension is the length, width, and depth.</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#explore-the-distribution-of-price.-do-you-discover-anything-unusual-or-surprising-hint-carefully-think-about-the-binwidth-and-make-sure-you-try-a-wide-range-of-values."><i class="fa fa-check"></i>2. Explore the distribution of price. Do you discover anything unusual or surprising? (Hint: Carefully think about the binwidth and make sure you try a wide range of values.)</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#how-many-diamonds-are-0.99-carat-how-many-are-1-carat-what-do-you-think-is-the-cause-of-the-difference"><i class="fa fa-check"></i>3. How many diamonds are 0.99 carat? How many are 1 carat? What do you think is the cause of the difference?</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#compare-and-contrast-coord_cartesian-vs-xlim-or-ylim-when-zooming-in-on-a-histogram.-what-happens-if-you-leave-binwidth-unset-what-happens-if-you-try-and-zoom-so-only-half-a-bar-shows"><i class="fa fa-check"></i>4. Compare and contrast coord_cartesian() vs xlim() or ylim() when zooming in on a histogram. What happens if you leave binwidth unset? What happens if you try and zoom so only half a bar shows?</a></li>
</ul></li>
<li><a href="chapter-7.html#notes---missing-values"><strong>7.4</strong> Notes - Missing Values</a></li>
<li><a href="chapter-7.html#exercises-14"><strong>7.4.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#what-happens-to-missing-values-in-a-histogram-what-happens-to-missing-values-in-a-bar-chart-why-is-there-a-difference"><i class="fa fa-check"></i>1. What happens to missing values in a histogram? What happens to missing values in a bar chart? Why is there a difference?</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#what-does-na.rm-true-do-in-mean-and-sum"><i class="fa fa-check"></i>2. What does na.rm = TRUE do in mean() and sum()?</a></li>
</ul></li>
<li><a href="chapter-7.html#notes---covariation"><strong>7.5</strong> Notes - Covariation</a></li>
<li><a href="chapter-7.html#notes---a-categorical-and-continuous-variable"><strong>7.5.1</strong> Notes - A categorical and continuous variable</a></li>
<li><a href="chapter-7.html#exercises-15"><strong>7.5.1.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#use-what-youve-learned-to-improve-the-visualisation-of-the-departure-times-of-cancelled-vs.non-cancelled-flights."><i class="fa fa-check"></i>1. Use what you’ve learned to improve the visualisation of the departure times of cancelled vs. non-cancelled flights.</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#what-variable-in-the-diamonds-dataset-is-most-important-for-predicting-the-price-of-a-diamond-how-is-that-variable-correlated-with-cut-why-does-the-combination-of-those-two-relationships-lead-to-lower-quality-diamonds-being-more-expensive"><i class="fa fa-check"></i>2. What variable in the diamonds dataset is most important for predicting the price of a diamond? How is that variable correlated with cut? Why does the combination of those two relationships lead to lower quality diamonds being more expensive?</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#install-the-ggstance-package-and-create-a-horizontal-boxplot.-how-does-this-compare-to-using-coord_flip"><i class="fa fa-check"></i>3. Install the ggstance package, and create a horizontal boxplot. How does this compare to using coord_flip()?</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#one-problem-with-boxplots-is-that-they-were-developed-in-an-era-of-much-smaller-datasets-and-tend-to-display-a-prohibitively-large-number-of-outlying-values.-one-approach-to-remedy-this-problem-is-the-letter-value-plot.-install-the-lvplot-package-and-try-using-geom_lv-to-display-the-distribution-of-price-vs-cut.-what-do-you-learn-how-do-you-interpret-the-plots"><i class="fa fa-check"></i>4. One problem with boxplots is that they were developed in an era of much smaller datasets and tend to display a prohibitively large number of “outlying values”. One approach to remedy this problem is the letter value plot. Install the lvplot package, and try using geom_lv() to display the distribution of price vs cut. What do you learn? How do you interpret the plots?</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#compare-and-contrast-geom_violin-with-a-facetted-geom_histogram-or-a-coloured-geom_freqpoly.-what-are-the-pros-and-cons-of-each-method"><i class="fa fa-check"></i>5. Compare and contrast geom_violin() with a facetted geom_histogram(), or a coloured geom_freqpoly(). What are the pros and cons of each method?</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#if-you-have-a-small-dataset-its-sometimes-useful-to-use-geom_jitter-to-see-the-relationship-between-a-continuous-and-categorical-variable.-the-ggbeeswarm-package-provides-a-number-of-methods-similar-to-geom_jitter.-list-them-and-briefly-describe-what-each-one-does."><i class="fa fa-check"></i>6. If you have a small dataset, it’s sometimes useful to use geom_jitter() to see the relationship between a continuous and categorical variable. The ggbeeswarm package provides a number of methods similar to geom_jitter(). List them and briefly describe what each one does.</a></li>
</ul></li>
<li><a href="chapter-7.html#notes---two-categorical-variables"><strong>7.5.2</strong> Notes - Two categorical variables</a></li>
<li><a href="chapter-7.html#exercises-16"><strong>7.5.2.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#how-could-you-rescale-the-count-dataset-above-to-more-clearly-show-the-distribution-of-cut-within-colour-or-colour-within-cut"><i class="fa fa-check"></i>1. How could you rescale the count dataset above to more clearly show the distribution of cut within colour, or colour within cut?</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#use-geom_tile-together-with-dplyr-to-explore-how-average-flight-delays-vary-by-destination-and-month-of-year.-what-makes-the-plot-difficult-to-read-how-could-you-improve-it"><i class="fa fa-check"></i>2. Use geom_tile() together with dplyr to explore how average flight delays vary by destination and month of year. What makes the plot difficult to read? How could you improve it?</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#why-is-it-slightly-better-to-use-aesx-color-y-cut-rather-than-aesx-cut-y-color-in-the-example-above"><i class="fa fa-check"></i>3. Why is it slightly better to use aes(x = color, y = cut) rather than aes(x = cut, y = color) in the example above?</a></li>
</ul></li>
<li><a href="chapter-7.html#notes---two-continuous-variables"><strong>7.5.3</strong> Notes - Two continuous variables</a></li>
<li><a href="chapter-7.html#exercises-17"><strong>7.5.3.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#instead-of-summarising-the-conditional-distribution-with-a-boxplot-you-could-use-a-frequency-polygon.-what-do-you-need-to-consider-when-using-cut_width-vs-cut_number-how-does-that-impact-a-visualisation-of-the-2d-distribution-of-carat-and-price"><i class="fa fa-check"></i>1. Instead of summarising the conditional distribution with a boxplot, you could use a frequency polygon. What do you need to consider when using cut_width() vs cut_number()? How does that impact a visualisation of the 2d distribution of carat and price?</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#visualise-the-distribution-of-carat-partitioned-by-price."><i class="fa fa-check"></i>2. Visualise the distribution of carat, partitioned by price.</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#how-does-the-price-distribution-of-very-large-diamonds-compare-to-small-diamonds.-is-it-as-you-expect-or-does-it-surprise-you"><i class="fa fa-check"></i>3. How does the price distribution of very large diamonds compare to small diamonds. Is it as you expect, or does it surprise you?</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#combine-two-of-the-techniques-youve-learned-to-visualise-the-combined-distribution-of-cut-carat-and-price."><i class="fa fa-check"></i>4. Combine two of the techniques you’ve learned to visualise the combined distribution of cut, carat, and price.</a></li>
<li class="chapter" data-level="" data-path="chapter-7.html"><a href="chapter-7.html#two-dimensional-plots-reveal-outliers-that-are-not-visible-in-one-dimensional-plots.-for-example-some-points-in-the-plot-below-have-an-unusual-combination-of-x-and-y-values-which-makes-the-points-outliers-even-though-their-x-and-y-values-appear-normal-when-examined-separately.-why-is-a-scatterplot-a-better-display-than-a-binned-plot-for-this-case"><i class="fa fa-check"></i>5. Two dimensional plots reveal outliers that are not visible in one dimensional plots. For example, some points in the plot below have an unusual combination of x and y values, which makes the points outliers even though their x and y values appear normal when examined separately. Why is a scatterplot a better display than a binned plot for this case?</a></li>
</ul></li>
<li><a href="chapter-7.html#notes---patterns-and-models"><strong>7.6</strong> Notes - Patterns and models</a></li>
</ul></li>
<li><a href="chapter-8.html#chapter-8"><strong>Chapter 8</strong></a><ul>
<li class="chapter" data-level="" data-path="chapter-8.html"><a href="chapter-8.html"><i class="fa fa-check"></i>Notes - Project Workflows</a></li>
</ul></li>
<li class="part"><span><b>IV Data Wrangling</b></span></li>
<li><a href="chapter-10-tibbles.html#chapter-10-tibbles"><strong>Chapter 10</strong> Tibbles</a><ul>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html"><i class="fa fa-check"></i>Notes - Creating Tibbles</a></li>
<li><a href="chapter-10-tibbles.html#exercises-18"><strong>10.5</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#how-can-you-tell-if-an-object-is-a-tibble-hint-try-printing-mtcars-which-is-a-regular-data-frame."><i class="fa fa-check"></i>1. How can you tell if an object is a tibble? (Hint: try printing mtcars, which is a regular data frame).</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#compare-and-contrast-the-following-operations-on-a-data.frame-and-equivalent-tibble.-what-is-different-why-might-the-default-data-frame-behaviours-cause-you-frustration"><i class="fa fa-check"></i>2. Compare and contrast the following operations on a data.frame and equivalent tibble. What is different? Why might the default data frame behaviours cause you frustration?</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#if-you-have-the-name-of-a-variable-stored-in-an-object-e.g.var---mpg-how-can-you-extract-the-reference-variable-from-a-tibble"><i class="fa fa-check"></i>3. If you have the name of a variable stored in an object, e.g. var &lt;- “mpg”, how can you extract the reference variable from a tibble?</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#practice-referring-to-non-syntactic-names-in-the-following-data-frame-by"><i class="fa fa-check"></i>4. Practice referring to non-syntactic names in the following data frame by:</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#what-does-tibbleenframe-do-when-might-you-use-it"><i class="fa fa-check"></i>5. What does tibble::enframe() do? When might you use it?</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#what-option-controls-how-many-additional-column-names-are-printed-at-the-footer-of-a-tibble"><i class="fa fa-check"></i>6. What option controls how many additional column names are printed at the footer of a tibble?</a></li>
</ul></li>
</ul></li>
<li><a href="chapter-11-data-import.html#chapter-11-data-import"><strong>Chapter 11</strong> Data Import</a><ul>
<li><a href="chapter-11-data-import.html#notes---reading-in-files"><strong>11.2</strong> Notes - Reading in files</a></li>
<li><a href="chapter-11-data-import.html#exercises-19"><strong>11.2.2</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html"><i class="fa fa-check"></i>1. What function would you use to read a file where fields were separated with “|”?</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#apart-from-file-skip-and-comment-what-other-arguments-do-read_csv-and-read_tsv-have-in-common"><i class="fa fa-check"></i>2. Apart from file, skip, and comment, what other arguments do read_csv() and read_tsv() have in common?</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#what-are-the-most-important-arguments-to-read_fwf"><i class="fa fa-check"></i>3. What are the most important arguments to read_fwf()?</a></li>
<li class="chapter" data-level="0.0.1" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#sometimes-strings-in-a-csv-file-contain-commas.-to-prevent-them-from-causing-problems-they-need-to-be-surrounded-by-a-quoting-character-like-or-.-by-convention-read_csv-assumes-that-the-quoting-character-will-be-and-if-you-want-to-change-it-youll-need-to-use-read_delim-instead.-what-arguments-do-you-need-to-specify-to-read-the-following-text-into-a-data-frame--"><i class="fa fa-check"></i><b>0.0.1</b> 4. Sometimes strings in a CSV file contain commas. To prevent them from causing problems they need to be surrounded by a quoting character, like &quot; or ’. By convention, read_csv() assumes that the quoting character will be “, and if you want to change it you’ll need to use read_delim() instead. What arguments do you need to specify to read the following text into a data frame? {-}</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#identify-what-is-wrong-with-each-of-the-following-inline-csv-files.-what-happens-when-you-run-the-code"><i class="fa fa-check"></i>5. Identify what is wrong with each of the following inline CSV files. What happens when you run the code?</a></li>
</ul></li>
<li><a href="chapter-11-data-import.html#notes---parsing-a-vector"><strong>11.3</strong> Notes - Parsing a vector</a><ul>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#parsing-numbers"><i class="fa fa-check"></i>11.3.1 Parsing Numbers</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#parsing-strings"><i class="fa fa-check"></i>11.3.2 Parsing Strings</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#parsing-factors"><i class="fa fa-check"></i>11.3.3 Parsing Factors</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#parsing-dates-date-times-and-times"><i class="fa fa-check"></i>11.3.4 Parsing Dates, Date-times, and Times</a></li>
</ul></li>
<li><a href="chapter-11-data-import.html#exercises-20"><strong>11.3.5</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#what-are-the-most-important-arguments-to-locale"><i class="fa fa-check"></i>1. What are the most important arguments to locale()?</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#what-happens-if-you-try-and-set-decimal_mark-and-grouping_mark-to-the-same-character-what-happens-to-the-default-value-of-grouping_mark-when-you-set-decimal_mark-to-what-happens-to-the-default-value-of-decimal_mark-when-you-set-the-grouping_mark-to-."><i class="fa fa-check"></i>2. What happens if you try and set decimal_mark and grouping_mark to the same character? What happens to the default value of grouping_mark when you set decimal_mark to “,”? What happens to the default value of decimal_mark when you set the grouping_mark to “.”?</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#i-didnt-discuss-the-date_format-and-time_format-options-to-locale.-what-do-they-do-construct-an-example-that-shows-when-they-might-be-useful."><i class="fa fa-check"></i>3. I didn’t discuss the date_format and time_format options to locale(). What do they do? Construct an example that shows when they might be useful.</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#if-you-live-outside-the-us-create-a-new-locale-object-that-encapsulates-the-settings-for-the-types-of-file-you-read-most-commonly."><i class="fa fa-check"></i>4. If you live outside the US, create a new locale object that encapsulates the settings for the types of file you read most commonly.</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#whats-the-difference-between-read_csv-and-read_csv2"><i class="fa fa-check"></i>5. What’s the difference between read_csv() and read_csv2()?</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#what-are-the-most-common-encodings-used-in-europe-what-are-the-most-common-encodings-used-in-asia-do-some-googling-to-find-out."><i class="fa fa-check"></i>6. What are the most common encodings used in Europe? What are the most common encodings used in Asia? Do some googling to find out.</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#generate-the-correct-format-string-to-parse-each-of-the-following-dates-and-times"><i class="fa fa-check"></i>7. Generate the correct format string to parse each of the following dates and times:</a></li>
</ul></li>
<li><a href="chapter-11-data-import.html#notes---parsing-a-file"><strong>11.4</strong> Notes - Parsing a file</a></li>
<li><a href="chapter-11-data-import.html#notes---writing-to-a-file"><strong>11.5</strong> Notes - Writing to a file</a></li>
</ul></li>
<li><a href="chapter-12-tidy-data.html#chapter-12-tidy-data"><strong>Chapter 12</strong> Tidy Data</a><ul>
<li><a href="chapter-12-tidy-data.html#exercises-21"><strong>12.2.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html"><i class="fa fa-check"></i>1. Using prose, describe how the variables and observations are organised in each of the sample tables.</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#compute-the-rate-for-table2-and-table4a-table4b.-you-will-need-to-perform-four-operations"><i class="fa fa-check"></i>2. Compute the rate for table2, and table4a + table4b. You will need to perform four operations:</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#recreate-the-plot-showing-change-in-cases-over-time-using-table2-instead-of-table1.-what-do-you-need-to-do-first"><i class="fa fa-check"></i>3. Recreate the plot showing change in cases over time using table2 instead of table1. What do you need to do first?</a></li>
</ul></li>
<li><a href="chapter-12-tidy-data.html#notes---spreading-and-gathering"><strong>12.3.1</strong> Notes - Spreading and Gathering</a></li>
<li><a href="chapter-12-tidy-data.html#exercises-22"><strong>12.3.3</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#why-are-gather-and-spread-not-perfectly-symmetrical-carefully-consider-the-following-example"><i class="fa fa-check"></i>1. Why are gather() and spread() not perfectly symmetrical? Carefully consider the following example:</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#why-does-this-code-fail"><i class="fa fa-check"></i>2. Why does this code fail?</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#why-does-spreading-this-tibble-fail-how-could-you-add-a-new-column-to-fix-the-problem"><i class="fa fa-check"></i>3. Why does spreading this tibble fail? How could you add a new column to fix the problem?</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#tidy-the-simple-tibble-below.-do-you-need-to-spread-or-gather-it-what-are-the-variables"><i class="fa fa-check"></i>4. Tidy the simple tibble below. Do you need to spread or gather it? What are the variables?</a></li>
</ul></li>
<li><a href="chapter-12-tidy-data.html#notes---separating-and-uniting"><strong>12.4</strong> Notes - Separating and uniting</a></li>
<li><a href="chapter-12-tidy-data.html#exercises-23"><strong>12.4.3</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#what-do-the-extra-and-fill-arguments-do-in-separate-experiment-with-the-various-options-for-the-following-two-toy-datasets."><i class="fa fa-check"></i>1. What do the extra and fill arguments do in separate()? Experiment with the various options for the following two toy datasets.</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#both-unite-and-separate-have-a-remove-argument.-what-does-it-do-why-would-you-set-it-to-false"><i class="fa fa-check"></i>2. Both unite() and separate() have a remove argument. What does it do? Why would you set it to FALSE?</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#compare-and-contrast-separate-and-extract.-why-are-there-three-variations-of-separation-by-position-by-separator-and-with-groups-but-only-one-unite"><i class="fa fa-check"></i>3. Compare and contrast separate() and extract(). Why are there three variations of separation (by position, by separator, and with groups), but only one unite?</a></li>
</ul></li>
<li><a href="chapter-12-tidy-data.html#notes---missing-values-1"><strong>12.5</strong> Notes - Missing Values</a></li>
<li><a href="chapter-12-tidy-data.html#exercises-24"><strong>12.5.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#compare-and-contrast-the-fill-arguments-to-spread-and-complete."><i class="fa fa-check"></i>1. Compare and contrast the fill arguments to spread() and complete().</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#what-does-the-direction-argument-to-fill-do"><i class="fa fa-check"></i>2. What does the direction argument to fill() do?</a></li>
</ul></li>
<li><a href="chapter-12-tidy-data.html#notes---case-study"><strong>12.6</strong> Notes - Case Study</a></li>
<li><a href="chapter-12-tidy-data.html#exercises-25"><strong>12.6.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#in-this-case-study-i-set-na.rm-true-just-to-make-it-easier-to-check-that-we-had-the-correct-values.-is-this-reasonable-think-about-how-missing-values-are-represented-in-this-dataset.-are-there-implicit-missing-values-whats-the-difference-between-an-na-and-zero"><i class="fa fa-check"></i>1. In this case study I set na.rm = TRUE just to make it easier to check that we had the correct values. Is this reasonable? Think about how missing values are represented in this dataset. Are there implicit missing values? What’s the difference between an NA and zero?</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#what-happens-if-you-neglect-the-mutate-step-mutatekey-stringrstr_replacekey-newrel-new_rel"><i class="fa fa-check"></i>2. What happens if you neglect the mutate() step? (mutate(key = stringr::str_replace(key, “newrel”, “new_rel”)))</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#i-claimed-that-iso2-and-iso3-were-redundant-with-country.-confirm-this-claim."><i class="fa fa-check"></i>3. I claimed that iso2 and iso3 were redundant with country. Confirm this claim.</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#for-each-country-year-and-sex-compute-the-total-number-of-cases-of-tb.-make-an-informative-visualisation-of-the-data."><i class="fa fa-check"></i>4. For each country, year, and sex compute the total number of cases of TB. Make an informative visualisation of the data.</a></li>
</ul></li>
</ul></li>
<li><a href="chapter-13-relational-data.html#chapter-13-relational-data"><strong>Chapter 13</strong> Relational Data</a><ul>
<li><a href="chapter-13-relational-data.html#exercises-26"><strong>13.2.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html"><i class="fa fa-check"></i>1. Imagine you wanted to draw (approximately) the route each plane flies from its origin to its destination. What variables would you need? What tables would you need to combine?</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#i-forgot-to-draw-the-relationship-between-weather-and-airports.-what-is-the-relationship-and-how-should-it-appear-in-the-diagram"><i class="fa fa-check"></i>2. I forgot to draw the relationship between weather and airports. What is the relationship and how should it appear in the diagram?</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#weather-only-contains-information-for-the-origin-nyc-airports.-if-it-contained-weather-records-for-all-airports-in-the-usa-what-additional-relation-would-it-define-with-flights"><i class="fa fa-check"></i>3. weather only contains information for the origin (NYC) airports. If it contained weather records for all airports in the USA, what additional relation would it define with flights?</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#we-know-that-some-days-of-the-year-are-special-and-fewer-people-than-usual-fly-on-them.-how-might-you-represent-that-data-as-a-data-frame-what-would-be-the-primary-keys-of-that-table-how-would-it-connect-to-the-existing-tables"><i class="fa fa-check"></i>4. We know that some days of the year are “special”, and fewer people than usual fly on them. How might you represent that data as a data frame? What would be the primary keys of that table? How would it connect to the existing tables?</a></li>
</ul></li>
<li><a href="chapter-13-relational-data.html#notes---keys"><strong>13.3</strong> Notes - Keys</a></li>
<li><a href="chapter-13-relational-data.html#exercises-27"><strong>13.3.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#add-a-surrogate-key-to-flights."><i class="fa fa-check"></i>1. Add a surrogate key to flights.</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#identify-the-keys-in-the-following-datasets"><i class="fa fa-check"></i>2. Identify the keys in the following datasets:</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#draw-a-diagram-illustrating-the-connections-between-the-batting-master-and-salaries-tables-in-the-lahman-package.-draw-another-diagram-that-shows-the-relationship-between-master-managers-awardsmanagers.-how-would-you-characterise-the-relationship-between-the-batting-pitching-and-fielding-tables"><i class="fa fa-check"></i>3. Draw a diagram illustrating the connections between the Batting, Master, and Salaries tables in the Lahman package. Draw another diagram that shows the relationship between Master, Managers, AwardsManagers. How would you characterise the relationship between the Batting, Pitching, and Fielding tables?</a></li>
</ul></li>
<li><a href="chapter-13-relational-data.html#notes---mutating-joins"><strong>13.4</strong> Notes - Mutating Joins</a></li>
<li><a href="chapter-13-relational-data.html#exercises-28"><strong>13.4.6</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#compute-the-average-delay-by-destination-then-join-on-the-airports-data-frame-so-you-can-show-the-spatial-distribution-of-delays.-heres-an-easy-way-to-draw-a-map-of-the-united-states"><i class="fa fa-check"></i>1. Compute the average delay by destination, then join on the airports data frame so you can show the spatial distribution of delays. Here’s an easy way to draw a map of the United States:</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#add-the-location-of-the-origin-and-destination-i.e.the-lat-and-lon-to-flights."><i class="fa fa-check"></i>2. Add the location of the origin and destination (i.e. the lat and lon) to flights.</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#is-there-a-relationship-between-the-age-of-a-plane-and-its-delays"><i class="fa fa-check"></i>3. Is there a relationship between the age of a plane and its delays?</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#what-weather-conditions-make-it-more-likely-to-see-a-delay"><i class="fa fa-check"></i>4. What weather conditions make it more likely to see a delay?</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#what-happened-on-june-13-2013-display-the-spatial-pattern-of-delays-and-then-use-google-to-cross-reference-with-the-weather."><i class="fa fa-check"></i>5. What happened on June 13 2013? Display the spatial pattern of delays, and then use Google to cross-reference with the weather.</a></li>
</ul></li>
<li><a href="chapter-13-relational-data.html#notes---filtering-joins"><strong>13.5</strong> Notes - Filtering Joins</a></li>
<li><a href="chapter-13-relational-data.html#exercises-29"><strong>13.5.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#what-does-it-mean-for-a-flight-to-have-a-missing-tailnum-what-do-the-tail-numbers-that-dont-have-a-matching-record-in-planes-have-in-common-hint-one-variable-explains-90-of-the-problems."><i class="fa fa-check"></i>1. What does it mean for a flight to have a missing tailnum? What do the tail numbers that don’t have a matching record in planes have in common? (Hint: one variable explains ~90% of the problems.)</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#filter-flights-to-only-show-flights-with-planes-that-have-flown-at-least-100-flights."><i class="fa fa-check"></i>2. Filter flights to only show flights with planes that have flown at least 100 flights.</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#combine-fueleconomyvehicles-and-fueleconomycommon-to-find-only-the-records-for-the-most-common-models."><i class="fa fa-check"></i>3. Combine fueleconomy::vehicles and fueleconomy::common to find only the records for the most common models.</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#find-the-48-hours-over-the-course-of-the-whole-year-that-have-the-worst-delays.-cross-reference-it-with-the-weather-data.-can-you-see-any-patterns"><i class="fa fa-check"></i>4. Find the 48 hours (over the course of the whole year) that have the worst delays. Cross-reference it with the weather data. Can you see any patterns?</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#what-does-anti_joinflights-airports-by-cdest-faa-tell-you-what-does-anti_joinairports-flights-by-cfaa-dest-tell-you"><i class="fa fa-check"></i>5. What does anti_join(flights, airports, by = c(“dest” = “faa”)) tell you? What does anti_join(airports, flights, by = c(“faa” = “dest”)) tell you?</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#you-might-expect-that-theres-an-implicit-relationship-between-plane-and-airline-because-each-plane-is-flown-by-a-single-airline.-confirm-or-reject-this-hypothesis-using-the-tools-youve-learned-above."><i class="fa fa-check"></i>6. You might expect that there’s an implicit relationship between plane and airline, because each plane is flown by a single airline. Confirm or reject this hypothesis using the tools you’ve learned above.</a></li>
</ul></li>
<li><a href="chapter-13-relational-data.html#notes---join-problems-and-set-operations"><strong>13.6 &amp; 13.7</strong> Notes - Join problems and set operations</a></li>
</ul></li>
<li><a href="chapter-14-strings.html#chapter-14-strings"><strong>Chapter 14</strong> Strings</a><ul>
<li><a href="chapter-14-strings.html#exercises-30"><strong>14.2.5</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html"><i class="fa fa-check"></i>1. In code that doesn’t use stringr, you’ll often see paste() and paste0(). What’s the difference between the two functions? What stringr function are they equivalent to? How do the functions differ in their handling of NA?</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#in-your-own-words-describe-the-difference-between-the-sep-and-collapse-arguments-to-str_c."><i class="fa fa-check"></i>2. In your own words, describe the difference between the sep and collapse arguments to str_c().</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#use-str_length-and-str_sub-to-extract-the-middle-character-from-a-string.-what-will-you-do-if-the-string-has-an-even-number-of-characters"><i class="fa fa-check"></i>3. Use str_length() and str_sub() to extract the middle character from a string. What will you do if the string has an even number of characters?</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#what-does-str_wrap-do-when-might-you-want-to-use-it"><i class="fa fa-check"></i>4. What does str_wrap() do? When might you want to use it?</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#what-does-str_trim-do-whats-the-opposite-of-str_trim"><i class="fa fa-check"></i>5. What does str_trim() do? What’s the opposite of str_trim()?</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#write-a-function-that-turns-e.g.-a-vector-ca-b-c-into-the-string-a-b-and-c.-think-carefully-about-what-it-should-do-if-given-a-vector-of-length-0-1-or-2."><i class="fa fa-check"></i>6. Write a function that turns (e.g.) a vector c(“a”, “b”, “c”) into the string a, b, and c. Think carefully about what it should do if given a vector of length 0, 1, or 2.</a></li>
</ul></li>
<li><a href="chapter-14-strings.html#exercises-31"><strong>14.3.1.1</strong> Exercises</a><ul>
<li><a href="chapter-14-strings.html#explain-why-each-of-these-strings-dont-match-a-.">1. Explain why each of these strings don’t match a <code>\</code>: <code>&quot;\&quot;, &quot;\\&quot;, &quot;\\\&quot;</code>.</a></li>
<li><a href="chapter-14-strings.html#how-would-you-match-the-sequence">2. How would you match the sequence <code>&quot;'\</code>?</a></li>
<li><a href="chapter-14-strings.html#what-patterns-will-the-regular-expression-......-match-how-would-you-represent-it-as-a-string">3. What patterns will the regular expression <code>\..\..\..</code> match? How would you represent it as a string?</a></li>
</ul></li>
<li><a href="chapter-14-strings.html#exercises-32"><strong>14.3.2.1</strong> Exercises</a><ul>
<li><a href="chapter-14-strings.html#how-would-you-match-the-literal-string">1. How would you match the literal string <code>&quot;$^$&quot;</code>?</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#given-the-corpus-of-common-words-in-stringrwords-create-regular-expressions-that-find-all-words-that"><i class="fa fa-check"></i>2. Given the corpus of common words in stringr::words, create regular expressions that find all words that:</a></li>
</ul></li>
<li><a href="chapter-14-strings.html#exercises-33"><strong>14.3.3.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#create-regular-expressions-to-find-all-words-that"><i class="fa fa-check"></i>1. Create regular expressions to find all words that:</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#empirically-verify-the-rule-i-before-e-except-after-c."><i class="fa fa-check"></i>2. Empirically verify the rule “i before e except after c”.</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#is-q-always-followed-by-a-u"><i class="fa fa-check"></i>3. Is “q” always followed by a “u”?</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#write-a-regular-expression-that-matches-a-word-if-its-probably-written-in-british-english-not-american-english."><i class="fa fa-check"></i>4. Write a regular expression that matches a word if it’s probably written in British English, not American English.</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#create-a-regular-expression-that-will-match-telephone-numbers-as-commonly-written-in-your-country."><i class="fa fa-check"></i>5. Create a regular expression that will match telephone numbers as commonly written in your country.</a></li>
</ul></li>
<li><a href="chapter-14-strings.html#exercises-34"><strong>14.3.4.1</strong> Exercises</a><ul>
<li><a href="chapter-14-strings.html#describe-the-equivalents-of-in-mn-form.">1. Describe the equivalents of <code>?, +, *</code> in <code>{m,n}</code> form.</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#describe-in-words-what-these-regular-expressions-match-read-carefully-to-see-if-im-using-a-regular-expression-or-a-string-that-defines-a-regular-expression."><i class="fa fa-check"></i>2. Describe in words what these regular expressions match: (read carefully to see if I’m using a regular expression or a string that defines a regular expression.)</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#create-regular-expressions-to-find-all-words-that-1"><i class="fa fa-check"></i>3. Create regular expressions to find all words that:</a></li>
<li><a href="chapter-14-strings.html#solve-the-beginner-regexp-crosswords-at-httpsregexcrossword.comchallengesbeginner.">4. Solve the beginner regexp crosswords at <a href="https://regexcrossword.com/challenges/beginner" class="uri">https://regexcrossword.com/challenges/beginner</a>.</a></li>
</ul></li>
<li><a href="chapter-14-strings.html#exercises-35"><strong>14.3.5.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#describe-in-words-what-these-expressions-will-match"><i class="fa fa-check"></i>1. Describe, in words, what these expressions will match:</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#construct-regular-expressions-to-match-words-that"><i class="fa fa-check"></i>2. Construct regular expressions to match words that:</a></li>
</ul></li>
<li><a href="chapter-14-strings.html#exercises-36"><strong>14.4.2</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#for-each-of-the-following-challenges-try-solving-it-by-using-both-a-single-regular-expression-and-a-combination-of-multiple-str_detect-calls."><i class="fa fa-check"></i>1. For each of the following challenges, try solving it by using both a single regular expression, and a combination of multiple str_detect() calls.</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#what-word-has-the-highest-number-of-vowels-what-word-has-the-highest-proportion-of-vowels-hint-what-is-the-denominator"><i class="fa fa-check"></i>2. What word has the highest number of vowels? What word has the highest proportion of vowels? (Hint: what is the denominator?)</a></li>
</ul></li>
<li><a href="chapter-14-strings.html#exercises-37"><strong>14.4.3.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#in-the-previous-example-you-might-have-noticed-that-the-regular-expression-matched-flickered-which-is-not-a-colour.-modify-the-regex-to-fix-the-problem."><i class="fa fa-check"></i>1. In the previous example, you might have noticed that the regular expression matched “flickered”, which is not a colour. Modify the regex to fix the problem.</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#from-the-harvard-sentences-data-extract"><i class="fa fa-check"></i>2. From the Harvard sentences data, extract:</a></li>
</ul></li>
<li><a href="chapter-14-strings.html#exercises-38"><strong>14.4.4.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#find-all-words-that-come-after-a-number-like-one-two-three-etc.-pull-out-both-the-number-and-the-word."><i class="fa fa-check"></i>1. Find all words that come after a “number” like “one”, “two”, “three” etc. Pull out both the number and the word.</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#find-all-contractions.-separate-out-the-pieces-before-and-after-the-apostrophe."><i class="fa fa-check"></i>2. Find all contractions. Separate out the pieces before and after the apostrophe.</a></li>
</ul></li>
<li><a href="chapter-14-strings.html#exercises-39"><strong>14.4.5.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#replace-all-forward-slashes-in-a-string-with-backslashes."><i class="fa fa-check"></i>1. Replace all forward slashes in a string with backslashes.</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#implement-a-simple-version-of-str_to_lower-using-replace_all."><i class="fa fa-check"></i>2. Implement a simple version of str_to_lower() using replace_all().</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#switch-the-first-and-last-letters-in-words.-which-of-those-strings-are-still-words"><i class="fa fa-check"></i>3. Switch the first and last letters in words. Which of those strings are still words?</a></li>
</ul></li>
<li><a href="chapter-14-strings.html#exercises-40"><strong>14.4.6.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#split-up-a-string-like-apples-pears-and-bananas-into-individual-components."><i class="fa fa-check"></i>1. Split up a string like “apples, pears, and bananas” into individual components.</a></li>
<li class="chapter" data-level="0.0.2" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#why-is-it-better-to-split-up-by-boundaryword-than--"><i class="fa fa-check"></i><b>0.0.2</b> 2. Why is it better to split up by boundary(“word”) than &quot; “? {-}</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#what-does-splitting-with-an-empty-string-do-experiment-and-then-read-the-documentation."><i class="fa fa-check"></i>3. What does splitting with an empty string (“”) do? Experiment, and then read the documentation.</a></li>
</ul></li>
<li><a href="chapter-14-strings.html#exercises-41"><strong>14.5.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#how-would-you-find-all-strings-containing-with-regex-vs.with-fixed"><i class="fa fa-check"></i>1. How would you find all strings containing  with regex() vs. with fixed()?</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#what-are-the-five-most-common-words-in-sentences"><i class="fa fa-check"></i>2. What are the five most common words in sentences?</a></li>
</ul></li>
<li><a href="chapter-14-strings.html#exercises-42"><strong>14.7.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#find-the-stringi-functions-that"><i class="fa fa-check"></i>1. Find the stringi functions that:</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#how-do-you-control-the-language-that-stri_sort-uses-for-sorting"><i class="fa fa-check"></i>2. How do you control the language that stri_sort() uses for sorting?</a></li>
</ul></li>
</ul></li>
<li><a href="chapter-15-factors.html#chapter-15-factors"><strong>Chapter 15</strong> Factors</a><ul>
<li><a href="chapter-15-factors.html#exercises-43"><strong>15.3.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html"><i class="fa fa-check"></i>1. Explore the distribution of rincome (reported income). What makes the default bar chart hard to understand? How could you improve the plot?</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#what-is-the-most-common-relig-in-this-survey-whats-the-most-common-partyid"><i class="fa fa-check"></i>2. What is the most common relig in this survey? What’s the most common partyid?</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#which-relig-does-denom-denomination-apply-to-how-can-you-find-out-with-a-table-how-can-you-find-out-with-a-visualisation"><i class="fa fa-check"></i>3. Which relig does denom (denomination) apply to? How can you find out with a table? How can you find out with a visualisation?</a></li>
</ul></li>
<li><a href="chapter-15-factors.html#exercises-44"><strong>15.4.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#there-are-some-suspiciously-high-numbers-in-tvhours.-is-the-mean-a-good-summary"><i class="fa fa-check"></i>1. There are some suspiciously high numbers in tvhours. Is the mean a good summary?</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#for-each-factor-in-gss_cat-identify-whether-the-order-of-the-levels-is-arbitrary-or-principled."><i class="fa fa-check"></i>2. For each factor in gss_cat identify whether the order of the levels is arbitrary or principled.</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#why-did-moving-not-applicable-to-the-front-of-the-levels-move-it-to-the-bottom-of-the-plot"><i class="fa fa-check"></i>3. Why did moving “Not applicable” to the front of the levels move it to the bottom of the plot?</a></li>
</ul></li>
<li><a href="chapter-15-factors.html#exercises-45"><strong>15.5.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#how-have-the-proportions-of-people-identifying-as-democrat-republican-and-independent-changed-over-time"><i class="fa fa-check"></i>1. How have the proportions of people identifying as Democrat, Republican, and Independent changed over time?</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#how-could-you-collapse-rincome-into-a-small-set-of-categories"><i class="fa fa-check"></i>2. How could you collapse rincome into a small set of categories?</a></li>
</ul></li>
</ul></li>
<li><a href="chapter-16-dates-and-times.html#chapter-16-dates-and-times"><strong>Chapter 16</strong> Dates and times</a><ul>
<li><a href="chapter-16-dates-and-times.html#exercises-46"><strong>16.2.4</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html"><i class="fa fa-check"></i>1. What happens if you parse a string that contains invalid dates?</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#what-does-the-tzone-argument-to-today-do-why-is-it-important"><i class="fa fa-check"></i>2. What does the tzone argument to today() do? Why is it important?</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#use-the-appropriate-lubridate-function-to-parse-each-of-the-following-dates"><i class="fa fa-check"></i>3. Use the appropriate lubridate function to parse each of the following dates:</a></li>
</ul></li>
<li><a href="chapter-16-dates-and-times.html#exercises-47"><strong>16.3.4</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#how-does-the-distribution-of-flight-times-within-a-day-change-over-the-course-of-the-year"><i class="fa fa-check"></i>1. How does the distribution of flight times within a day change over the course of the year?</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#compare-dep_time-sched_dep_time-and-dep_delay.-are-they-consistent-explain-your-findings."><i class="fa fa-check"></i>2. Compare dep_time, sched_dep_time and dep_delay. Are they consistent? Explain your findings.</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#compare-air_time-with-the-duration-between-the-departure-and-arrival.-explain-your-findings.-hint-consider-the-location-of-the-airport."><i class="fa fa-check"></i>3. Compare air_time with the duration between the departure and arrival. Explain your findings. (Hint: consider the location of the airport.)</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#how-does-the-average-delay-time-change-over-the-course-of-a-day-should-you-use-dep_time-or-sched_dep_time-why"><i class="fa fa-check"></i>4. How does the average delay time change over the course of a day? Should you use dep_time or sched_dep_time? Why?</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#on-what-day-of-the-week-should-you-leave-if-you-want-to-minimise-the-chance-of-a-delay"><i class="fa fa-check"></i>5. On what day of the week should you leave if you want to minimise the chance of a delay?</a></li>
<li><a href="chapter-16-dates-and-times.html#what-makes-the-distribution-of-diamondscarat-and-flightssched_dep_time-similar">6. What makes the distribution of diamonds<span class="math inline">\(carat and flights\)</span>sched_dep_time similar?</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#confirm-my-hypothesis-that-the-early-departures-of-flights-in-minutes-20-30-and-50-60-are-caused-by-scheduled-flights-that-leave-early.-hint-create-a-binary-variable-that-tells-you-whether-or-not-a-flight-was-delayed."><i class="fa fa-check"></i>7. Confirm my hypothesis that the early departures of flights in minutes 20-30 and 50-60 are caused by scheduled flights that leave early. Hint: create a binary variable that tells you whether or not a flight was delayed.</a></li>
</ul></li>
<li><a href="chapter-16-dates-and-times.html#exercises-48"><strong>16.4.5</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#why-is-there-months-but-no-dmonths"><i class="fa fa-check"></i>1. Why is there months() but no dmonths()?</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#explain-daysovernight-1-to-someone-who-has-just-started-learning-r.-how-does-it-work"><i class="fa fa-check"></i>2. Explain days(overnight * 1) to someone who has just started learning R. How does it work?</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#create-a-vector-of-dates-giving-the-first-day-of-every-month-in-2015.-create-a-vector-of-dates-giving-the-first-day-of-every-month-in-the-current-year."><i class="fa fa-check"></i>3. Create a vector of dates giving the first day of every month in 2015. Create a vector of dates giving the first day of every month in the current year.</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#write-a-function-that-given-your-birthday-as-a-date-returns-how-old-you-are-in-years."><i class="fa fa-check"></i>4. Write a function that given your birthday (as a date), returns how old you are in years.</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#why-cant-today-today-years1-months1-work"><i class="fa fa-check"></i>5. Why can’t (today() %–% (today() + years(1)) / months(1) work?</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Program</b></span></li>
<li><a href="chapter-19-functions.html#chapter-19-functions"><strong>Chapter 19</strong> Functions</a><ul>
<li><a href="chapter-19-functions.html#exercises-49"><strong>19.2.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html"><i class="fa fa-check"></i>1. Why is TRUE not a parameter to rescale01()? What would happen if x contained a single missing value, and na.rm was FALSE?</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#in-the-second-variant-of-rescale01-infinite-values-are-left-unchanged.-rewrite-rescale01-so-that--inf-is-mapped-to-0-and-inf-is-mapped-to-1."><i class="fa fa-check"></i>2. In the second variant of rescale01(), infinite values are left unchanged. Rewrite rescale01() so that -Inf is mapped to 0, and Inf is mapped to 1.</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#practice-turning-the-following-code-snippets-into-functions.-think-about-what-each-function-does.-what-would-you-call-it-how-many-arguments-does-it-need-can-you-rewrite-it-to-be-more-expressive-or-less-duplicative"><i class="fa fa-check"></i>3. Practice turning the following code snippets into functions. Think about what each function does. What would you call it? How many arguments does it need? Can you rewrite it to be more expressive or less duplicative?</a></li>
<li><a href="chapter-19-functions.html#follow-httpnicercode.github.iointrowriting-functions.html-to-write-your-own-functions-to-compute-the-variance-and-skew-of-a-numeric-vector.">4. Follow <a href="http://nicercode.github.io/intro/writing-functions.html" class="uri">http://nicercode.github.io/intro/writing-functions.html</a> to write your own functions to compute the variance and skew of a numeric vector.</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#write-both_na-a-function-that-takes-two-vectors-of-the-same-length-and-returns-the-number-of-positions-that-have-an-na-in-both-vectors."><i class="fa fa-check"></i>5. Write both_na(), a function that takes two vectors of the same length and returns the number of positions that have an NA in both vectors.</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#what-do-the-following-functions-do-why-are-they-useful-even-though-they-are-so-short"><i class="fa fa-check"></i>6. What do the following functions do? Why are they useful even though they are so short?</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#read-the-complete-lyrics-to-little-bunny-foo-foo.-theres-a-lot-of-duplication-in-this-song.-extend-the-initial-piping-example-to-recreate-the-complete-song-and-use-functions-to-reduce-the-duplication."><i class="fa fa-check"></i>7. Read the complete lyrics to “Little Bunny Foo Foo”. There’s a lot of duplication in this song. Extend the initial piping example to recreate the complete song, and use functions to reduce the duplication.</a></li>
</ul></li>
<li><a href="chapter-19-functions.html#exercises-50"><strong>19.3.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#read-the-source-code-for-each-of-the-following-three-functions-puzzle-out-what-they-do-and-then-brainstorm-better-names."><i class="fa fa-check"></i>1. Read the source code for each of the following three functions, puzzle out what they do, and then brainstorm better names.</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#take-a-function-that-youve-written-recently-and-spend-5-minutes-brainstorming-a-better-name-for-it-and-its-arguments."><i class="fa fa-check"></i>2. Take a function that you’ve written recently and spend 5 minutes brainstorming a better name for it and its arguments.</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#compare-and-contrast-rnorm-and-massmvrnorm.-how-could-you-make-them-more-consistent"><i class="fa fa-check"></i>3. Compare and contrast rnorm() and MASS::mvrnorm(). How could you make them more consistent?</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#make-a-case-for-why-norm_r-norm_d-etc-would-be-better-than-rnorm-dnorm.-make-a-case-for-the-opposite."><i class="fa fa-check"></i>4. Make a case for why norm_r(), norm_d() etc would be better than rnorm(), dnorm(). Make a case for the opposite.</a></li>
</ul></li>
<li><a href="chapter-19-functions.html#exercises-51"><strong>19.4.4</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#whats-the-difference-between-if-and-ifelse-carefully-read-the-help-and-construct-three-examples-that-illustrate-the-key-differences."><i class="fa fa-check"></i>1. What’s the difference between if and ifelse()? Carefully read the help and construct three examples that illustrate the key differences.</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#write-a-greeting-function-that-says-good-morning-good-afternoon-or-good-evening-depending-on-the-time-of-day.-hint-use-a-time-argument-that-defaults-to-lubridatenow.-that-will-make-it-easier-to-test-your-function."><i class="fa fa-check"></i>2. Write a greeting function that says “good morning”, “good afternoon”, or “good evening”, depending on the time of day. (Hint: use a time argument that defaults to lubridate::now(). That will make it easier to test your function.)</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#implement-a-fizzbuzz-function.-it-takes-a-single-number-as-input.-if-the-number-is-divisible-by-three-it-returns-fizz.-if-its-divisible-by-five-it-returns-buzz.-if-its-divisible-by-three-and-five-it-returns-fizzbuzz.-otherwise-it-returns-the-number.-make-sure-you-first-write-working-code-before-you-create-the-function."><i class="fa fa-check"></i>3. Implement a fizzbuzz function. It takes a single number as input. If the number is divisible by three, it returns “fizz”. If it’s divisible by five it returns “buzz”. If it’s divisible by three and five, it returns “fizzbuzz”. Otherwise, it returns the number. Make sure you first write working code before you create the function.</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#how-could-you-use-cut-to-simplify-this-set-of-nested-if-else-statements"><i class="fa fa-check"></i>4. How could you use cut() to simplify this set of nested if-else statements?</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#what-happens-if-you-use-switch-with-numeric-values"><i class="fa fa-check"></i>5. What happens if you use switch() with numeric values?</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#what-does-this-switch-call-do-what-happens-if-x-is-e"><i class="fa fa-check"></i>6. What does this switch() call do? What happens if x is “e”?</a></li>
</ul></li>
<li><a href="chapter-19-functions.html#exercises-52"><strong>19.5.5</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#what-does-commasletters-collapse---do-why"><i class="fa fa-check"></i>1. What does commas(letters, collapse = “-”) do? Why?</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#itd-be-nice-if-you-could-supply-multiple-characters-to-the-pad-argument-e.g.ruletitle-pad--.-why-doesnt-this-currently-work-how-could-you-fix-it"><i class="fa fa-check"></i>2. It’d be nice if you could supply multiple characters to the pad argument, e.g. rule(“Title”, pad = “-+”). Why doesn’t this currently work? How could you fix it?</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#what-does-the-trim-argument-to-mean-do-when-might-you-use-it"><i class="fa fa-check"></i>3. What does the trim argument to mean() do? When might you use it?</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#the-default-value-for-the-method-argument-to-cor-is-cpearson-kendall-spearman.-what-does-that-mean-what-value-is-used-by-default"><i class="fa fa-check"></i>4. The default value for the method argument to cor() is c(“pearson”, “kendall”, “spearman”). What does that mean? What value is used by default?</a></li>
</ul></li>
</ul></li>
<li><a href="chapter-20-vectors.html#chapter-20-vectors"><strong>Chapter 20</strong> Vectors</a><ul>
<li><a href="chapter-20-vectors.html#exercises-53"><strong>20.3.5</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html"><i class="fa fa-check"></i>1. Describe the difference between is.finite(x) and !is.infinite(x).</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#read-the-source-code-for-dplyrnear-hint-to-see-the-source-code-drop-the-.-how-does-it-work"><i class="fa fa-check"></i>2. Read the source code for dplyr::near() (Hint: to see the source code, drop the ()). How does it work?</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#a-logical-vector-can-take-3-possible-values.-how-many-possible-values-can-an-integer-vector-take-how-many-possible-values-can-a-double-take-use-google-to-do-some-research."><i class="fa fa-check"></i>3. A logical vector can take 3 possible values. How many possible values can an integer vector take? How many possible values can a double take? Use google to do some research.</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#brainstorm-at-least-four-functions-that-allow-you-to-convert-a-double-to-an-integer.-how-do-they-differ-be-precise."><i class="fa fa-check"></i>4. Brainstorm at least four functions that allow you to convert a double to an integer. How do they differ? Be precise.</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#what-functions-from-the-readr-package-allow-you-to-turn-a-string-into-logical-integer-and-double-vector"><i class="fa fa-check"></i>5. What functions from the readr package allow you to turn a string into logical, integer, and double vector?</a></li>
</ul></li>
<li><a href="chapter-20-vectors.html#exercises-54"><strong>20.4.6</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#what-does-meanis.nax-tell-you-about-a-vector-x-what-about-sumis.finitex"><i class="fa fa-check"></i>1. What does mean(is.na(x)) tell you about a vector x? What about sum(!is.finite(x))?</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#carefully-read-the-documentation-of-is.vector.-what-does-it-actually-test-for-why-does-is.atomic-not-agree-with-the-definition-of-atomic-vectors-above"><i class="fa fa-check"></i>2. Carefully read the documentation of is.vector(). What does it actually test for? Why does is.atomic() not agree with the definition of atomic vectors above?</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#compare-and-contrast-setnames-with-purrrset_names."><i class="fa fa-check"></i>3. Compare and contrast setNames() with purrr::set_names().</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#create-functions-that-take-a-vector-as-input-and-returns"><i class="fa fa-check"></i>4. Create functions that take a vector as input and returns:</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#why-is-x-whichx-0-not-the-same-as-xx-0"><i class="fa fa-check"></i>5. Why is x[-which(x &gt; 0)] not the same as x[x &lt;= 0]?</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#what-happens-when-you-subset-with-a-positive-integer-thats-bigger-than-the-length-of-the-vector-what-happens-when-you-subset-with-a-name-that-doesnt-exist"><i class="fa fa-check"></i>6. What happens when you subset with a positive integer that’s bigger than the length of the vector? What happens when you subset with a name that doesn’t exist?</a></li>
</ul></li>
<li><a href="chapter-20-vectors.html#exercises-55"><strong>20.5.4</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#draw-the-following-lists-as-nested-sets"><i class="fa fa-check"></i>1. Draw the following lists as nested sets:</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#what-happens-if-you-subset-a-tibble-as-if-youre-subsetting-a-list-what-are-the-key-differences-between-a-list-and-a-tibble"><i class="fa fa-check"></i>2. What happens if you subset a tibble as if you’re subsetting a list? What are the key differences between a list and a tibble?</a></li>
</ul></li>
<li><a href="chapter-20-vectors.html#exercises-56"><strong>20.7.4</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#what-does-hmshms3600-return-how-does-it-print-what-primitive-type-is-the-augmented-vector-built-on-top-of-what-attributes-does-it-use"><i class="fa fa-check"></i>1. What does hms::hms(3600) return? How does it print? What primitive type is the augmented vector built on top of? What attributes does it use?</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#try-and-make-a-tibble-that-has-columns-with-different-lengths.-what-happens"><i class="fa fa-check"></i>2. Try and make a tibble that has columns with different lengths. What happens?</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#based-on-the-definition-above-is-it-ok-to-have-a-list-as-a-column-of-a-tibble"><i class="fa fa-check"></i>3. Based on the definition above, is it ok to have a list as a column of a tibble?</a></li>
</ul></li>
</ul></li>
<li><a href="chapter-21.html#chapter-21"><strong>Chapter 21</strong></a><ul>
<li><a href="chapter-21.html#exercises-57"><strong>21.2.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html"><i class="fa fa-check"></i>1. Write for loops to:</a></li>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#eliminate-the-for-loop-in-each-of-the-following-examples-by-taking-advantage-of-an-existing-function-that-works-with-vectors"><i class="fa fa-check"></i>2. Eliminate the for loop in each of the following examples by taking advantage of an existing function that works with vectors:</a></li>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#combine-your-function-writing-and-for-loop-skills"><i class="fa fa-check"></i>3. Combine your function writing and for loop skills:</a></li>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#its-common-to-see-for-loops-that-dont-preallocate-the-output-and-instead-increase-the-length-of-a-vector-at-each-step"><i class="fa fa-check"></i>4. It’s common to see for loops that don’t preallocate the output and instead increase the length of a vector at each step:</a></li>
</ul></li>
<li><a href="chapter-21.html#exercises-58"><strong>21.3.5</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#imagine-you-have-a-directory-full-of-csv-files-that-you-want-to-read-in.-you-have-their-paths-in-a-vector-files---dirdata-pattern-.csv-full.names-true-and-now-want-to-read-each-one-with-read_csv.-write-the-for-loop-that-will-load-them-into-a-single-data-frame."><i class="fa fa-check"></i>1. Imagine you have a directory full of CSV files that you want to read in. You have their paths in a vector, files &lt;- dir(“data/”, pattern = “\.csv$”, full.names = TRUE), and now want to read each one with read_csv(). Write the for loop that will load them into a single data frame.</a></li>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#what-happens-if-you-use-for-nm-in-namesx-and-x-has-no-names-what-if-only-some-of-the-elements-are-named-what-if-the-names-are-not-unique"><i class="fa fa-check"></i>2. What happens if you use for (nm in names(x)) and x has no names? What if only some of the elements are named? What if the names are not unique?</a></li>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#write-a-function-that-prints-the-mean-of-each-numeric-column-in-a-data-frame-along-with-its-name.-for-example-show_meaniris-would-print"><i class="fa fa-check"></i>3. Write a function that prints the mean of each numeric column in a data frame, along with its name. For example, show_mean(iris) would print:</a></li>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#what-does-this-code-do-how-does-it-work"><i class="fa fa-check"></i>4. What does this code do? How does it work?</a></li>
</ul></li>
<li><a href="chapter-21.html#exercises-59"><strong>21.4.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#read-the-documentation-for-apply.-in-the-2d-case-what-two-for-loops-does-it-generalise"><i class="fa fa-check"></i>1. Read the documentation for apply(). In the 2d case, what two for loops does it generalise?</a></li>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#adapt-col_summary-so-that-it-only-applies-to-numeric-columns.-you-might-want-to-start-with-an-is_numeric-function-that-returns-a-logical-vector-that-has-a-true-corresponding-to-each-numeric-column."><i class="fa fa-check"></i>2. Adapt col_summary() so that it only applies to numeric columns. You might want to start with an is_numeric() function that returns a logical vector that has a TRUE corresponding to each numeric column.</a></li>
</ul></li>
<li><a href="chapter-21.html#exercises-60"><strong>21.5.3</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#write-code-that-uses-one-of-the-map-functions-to"><i class="fa fa-check"></i>1. Write code that uses one of the map functions to:</a></li>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#how-can-you-create-a-single-vector-that-for-each-column-in-a-data-frame-indicates-whether-or-not-its-a-factor"><i class="fa fa-check"></i>2. How can you create a single vector that for each column in a data frame indicates whether or not it’s a factor?</a></li>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#what-happens-when-you-use-the-map-functions-on-vectors-that-arent-lists-what-does-map15-runif-do-why"><i class="fa fa-check"></i>3. What happens when you use the map functions on vectors that aren’t lists? What does map(1:5, runif) do? Why?</a></li>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#what-does-map-22-rnorm-n-5-do-why-what-does-map_dbl-22-rnorm-n-5-do-why"><i class="fa fa-check"></i>4. What does map(-2:2, rnorm, n = 5) do? Why? What does map_dbl(-2:2, rnorm, n = 5) do? Why?</a></li>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#rewrite-mapx-functiondf-lmmpg-wt-data-df-to-eliminate-the-anonymous-function."><i class="fa fa-check"></i>5. Rewrite map(x, function(df) lm(mpg ~ wt, data = df)) to eliminate the anonymous function.</a></li>
</ul></li>
<li><a href="chapter-21.html#exercises-61"><strong>21.9.3</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#implement-your-own-version-of-every-using-a-for-loop.-compare-it-with-purrrevery.-what-does-purrrs-version-do-that-your-version-doesnt"><i class="fa fa-check"></i>1. Implement your own version of every() using a for loop. Compare it with purrr::every(). What does purrr’s version do that your version doesn’t?</a></li>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#create-an-enhanced-col_summary-that-applies-a-summary-function-to-every-numeric-column-in-a-data-frame."><i class="fa fa-check"></i>2. Create an enhanced col_summary() that applies a summary function to every numeric column in a data frame.</a></li>
<li class="chapter" data-level="" data-path="chapter-21.html"><a href="chapter-21.html#a-possible-base-r-equivalent-of-col_summary-is"><i class="fa fa-check"></i>3. A possible base R equivalent of col_summary() is:</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>VI Modeling</b></span></li>
<li><a href="chapter-23.html#chapter-23"><strong>Chapter 23</strong></a><ul>
<li class="chapter" data-level="" data-path="chapter-23.html"><a href="chapter-23.html"><i class="fa fa-check"></i>Notes - making simple models</a></li>
<li><a href="chapter-23.html#exercises-62"><strong>23.2.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-23.html"><a href="chapter-23.html#one-downside-of-the-linear-model-is-that-it-is-sensitive-to-unusual-values-because-the-distance-incorporates-a-squared-term.-fit-a-linear-model-to-the-simulated-data-below-and-visualise-the-results.-rerun-a-few-times-to-generate-different-simulated-datasets.-what-do-you-notice-about-the-model"><i class="fa fa-check"></i>1. One downside of the linear model is that it is sensitive to unusual values because the distance incorporates a squared term. Fit a linear model to the simulated data below, and visualise the results. Rerun a few times to generate different simulated datasets. What do you notice about the model?</a></li>
<li class="chapter" data-level="" data-path="chapter-23.html"><a href="chapter-23.html#one-way-to-make-linear-models-more-robust-is-to-use-a-different-distance-measure.-for-example-instead-of-root-mean-squared-distance-you-could-use-mean-absolute-distance"><i class="fa fa-check"></i>2. One way to make linear models more robust is to use a different distance measure. For example, instead of root-mean-squared distance, you could use mean-absolute distance:</a></li>
<li class="chapter" data-level="" data-path="chapter-23.html"><a href="chapter-23.html#one-challenge-with-performing-numerical-optimisation-is-that-its-only-guaranteed-to-find-one-local-optimum.-whats-the-problem-with-optimising-a-three-parameter-model-like-this"><i class="fa fa-check"></i>3. One challenge with performing numerical optimisation is that it’s only guaranteed to find one local optimum. What’s the problem with optimising a three parameter model like this?</a></li>
</ul></li>
<li><a href="chapter-23.html#exercises-63"><strong>23.3.3</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-23.html"><a href="chapter-23.html#instead-of-using-lm-to-fit-a-straight-line-you-can-use-loess-to-fit-a-smooth-curve.-repeat-the-process-of-model-fitting-grid-generation-predictions-and-visualisation-on-sim1-using-loess-instead-of-lm.-how-does-the-result-compare-to-geom_smooth"><i class="fa fa-check"></i>1. Instead of using lm() to fit a straight line, you can use loess() to fit a smooth curve. Repeat the process of model fitting, grid generation, predictions, and visualisation on sim1 using loess() instead of lm(). How does the result compare to geom_smooth()?</a></li>
<li class="chapter" data-level="" data-path="chapter-23.html"><a href="chapter-23.html#add_predictions-is-paired-with-gather_predictions-and-spread_predictions.-how-do-these-three-functions-differ"><i class="fa fa-check"></i>2. add_predictions() is paired with gather_predictions() and spread_predictions(). How do these three functions differ?</a></li>
<li class="chapter" data-level="" data-path="chapter-23.html"><a href="chapter-23.html#what-does-geom_ref_line-do-what-package-does-it-come-from-why-is-displaying-a-reference-line-in-plots-showing-residuals-useful-and-important"><i class="fa fa-check"></i>3. What does geom_ref_line() do? What package does it come from? Why is displaying a reference line in plots showing residuals useful and important?</a></li>
<li class="chapter" data-level="" data-path="chapter-23.html"><a href="chapter-23.html#why-might-you-want-to-look-at-a-frequency-polygon-of-absolute-residuals-what-are-the-pros-and-cons-compared-to-looking-at-the-raw-residuals"><i class="fa fa-check"></i>4. Why might you want to look at a frequency polygon of absolute residuals? What are the pros and cons compared to looking at the raw residuals?</a></li>
</ul></li>
<li><a href="chapter-23.html#exercises-64"><strong>23.4.5</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-23.html"><a href="chapter-23.html#what-happens-if-you-repeat-the-analysis-of-sim2-using-a-model-without-an-intercept.-what-happens-to-the-model-equation-what-happens-to-the-predictions"><i class="fa fa-check"></i>1. What happens if you repeat the analysis of sim2 using a model without an intercept. What happens to the model equation? What happens to the predictions?</a></li>
<li class="chapter" data-level="" data-path="chapter-23.html"><a href="chapter-23.html#use-model_matrix-to-explore-the-equations-generated-for-the-models-i-fit-to-sim3-and-sim4.-why-is-a-good-shorthand-for-interaction"><i class="fa fa-check"></i>2. Use model_matrix() to explore the equations generated for the models I fit to sim3 and sim4. Why is * a good shorthand for interaction?</a></li>
<li class="chapter" data-level="" data-path="chapter-23.html"><a href="chapter-23.html#using-the-basic-principles-convert-the-formulas-in-the-following-two-models-into-functions.-hint-start-by-converting-the-categorical-variable-into-0-1-variables."><i class="fa fa-check"></i>3. Using the basic principles, convert the formulas in the following two models into functions. (Hint: start by converting the categorical variable into 0-1 variables.)</a></li>
<li class="chapter" data-level="" data-path="chapter-23.html"><a href="chapter-23.html#for-sim4-which-of-mod1-and-mod2-is-better-i-think-mod2-does-a-slightly-better-job-at-removing-patterns-but-its-pretty-subtle.-can-you-come-up-with-a-plot-to-support-my-claim"><i class="fa fa-check"></i>4. For sim4, which of mod1 and mod2 is better? I think mod2 does a slightly better job at removing patterns, but it’s pretty subtle. Can you come up with a plot to support my claim?</a></li>
</ul></li>
</ul></li>
<li><a href="chapter-24.html#chapter-24"><strong>Chapter 24</strong></a><ul>
<li><a href="chapter-24.html#exercises-65"><strong>24.2.3</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-24.html"><a href="chapter-24.html"><i class="fa fa-check"></i>1. In the plot of lcarat vs. lprice, there are some bright vertical strips. What do they represent?</a></li>
<li class="chapter" data-level="" data-path="chapter-24.html"><a href="chapter-24.html#if-logprice-a_0-a_1-logcarat-what-does-that-say-about-the-relationship-between-price-and-carat"><i class="fa fa-check"></i>2. If log(price) = a_0 + a_1 * log(carat), what does that say about the relationship between price and carat?</a></li>
<li class="chapter" data-level="" data-path="chapter-24.html"><a href="chapter-24.html#extract-the-diamonds-that-have-very-high-and-very-low-residuals.-is-there-anything-unusual-about-these-diamonds-are-they-particularly-bad-or-good-or-do-you-think-these-are-pricing-errors"><i class="fa fa-check"></i>3. Extract the diamonds that have very high and very low residuals. Is there anything unusual about these diamonds? Are they particularly bad or good, or do you think these are pricing errors?</a></li>
<li class="chapter" data-level="" data-path="chapter-24.html"><a href="chapter-24.html#does-the-final-model-mod_diamond2-do-a-good-job-of-predicting-diamond-prices-would-you-trust-it-to-tell-you-how-much-to-spend-if-you-were-buying-a-diamond"><i class="fa fa-check"></i>4. Does the final model, mod_diamond2, do a good job of predicting diamond prices? Would you trust it to tell you how much to spend if you were buying a diamond?</a></li>
</ul></li>
<li><a href="chapter-24.html#exercises-66"><strong>24.3.5</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-24.html"><a href="chapter-24.html#use-your-google-sleuthing-skills-to-brainstorm-why-there-were-fewer-than-expected-flights-on-jan-20-may-26-and-sep-1.-hint-they-all-have-the-same-explanation.-how-would-these-days-generalise-to-another-year"><i class="fa fa-check"></i>1. Use your Google sleuthing skills to brainstorm why there were fewer than expected flights on Jan 20, May 26, and Sep 1. (Hint: they all have the same explanation.) How would these days generalise to another year?</a></li>
<li class="chapter" data-level="" data-path="chapter-24.html"><a href="chapter-24.html#what-do-the-three-days-with-high-positive-residuals-represent-how-would-these-days-generalise-to-another-year"><i class="fa fa-check"></i>2. What do the three days with high positive residuals represent? How would these days generalise to another year?</a></li>
<li class="chapter" data-level="" data-path="chapter-24.html"><a href="chapter-24.html#create-a-new-variable-that-splits-the-wday-variable-into-terms-but-only-for-saturdays-i.e.it-should-have-thurs-fri-but-sat-summer-sat-spring-sat-fall.-how-does-this-model-compare-with-the-model-with-every-combination-of-wday-and-term"><i class="fa fa-check"></i>3. Create a new variable that splits the wday variable into terms, but only for Saturdays, i.e. it should have Thurs, Fri, but Sat-summer, Sat-spring, Sat-fall. How does this model compare with the model with every combination of wday and term?</a></li>
<li class="chapter" data-level="" data-path="chapter-24.html"><a href="chapter-24.html#create-a-new-wday-variable-that-combines-the-day-of-week-term-for-saturdays-and-public-holidays.-what-do-the-residuals-of-that-model-look-like"><i class="fa fa-check"></i>4. Create a new wday variable that combines the day of week, term (for Saturdays), and public holidays. What do the residuals of that model look like?</a></li>
<li class="chapter" data-level="" data-path="chapter-24.html"><a href="chapter-24.html#what-happens-if-you-fit-a-day-of-week-effect-that-varies-by-month-i.e.n-wday-month-why-is-this-not-very-helpful"><i class="fa fa-check"></i>5. What happens if you fit a day of week effect that varies by month (i.e. n ~ wday * month)? Why is this not very helpful?</a></li>
<li class="chapter" data-level="" data-path="chapter-24.html"><a href="chapter-24.html#what-would-you-expect-the-model-n-wday-nsdate-5-to-look-like-knowing-what-you-know-about-the-data-why-would-you-expect-it-to-be-not-particularly-effective"><i class="fa fa-check"></i>6. What would you expect the model n ~ wday + ns(date, 5) to look like? Knowing what you know about the data, why would you expect it to be not particularly effective?</a></li>
<li class="chapter" data-level="" data-path="chapter-24.html"><a href="chapter-24.html#we-hypothesised-that-people-leaving-on-sundays-are-more-likely-to-be-business-travellers-who-need-to-be-somewhere-on-monday.-explore-that-hypothesis-by-seeing-how-it-breaks-down-based-on-distance-and-time-if-its-true-youd-expect-to-see-more-sunday-evening-flights-to-places-that-are-far-away."><i class="fa fa-check"></i>7. We hypothesised that people leaving on Sundays are more likely to be business travellers who need to be somewhere on Monday. Explore that hypothesis by seeing how it breaks down based on distance and time: if it’s true, you’d expect to see more Sunday evening flights to places that are far away.</a></li>
<li class="chapter" data-level="" data-path="chapter-24.html"><a href="chapter-24.html#its-a-little-frustrating-that-sunday-and-saturday-are-on-separate-ends-of-the-plot.-write-a-small-function-to-set-the-levels-of-the-factor-so-that-the-week-starts-on-monday."><i class="fa fa-check"></i>8. It’s a little frustrating that Sunday and Saturday are on separate ends of the plot. Write a small function to set the levels of the factor so that the week starts on Monday.</a></li>
</ul></li>
</ul></li>
<li><a href="chapter-25.html#chapter-25"><strong>Chapter 25</strong></a><ul>
<li><a href="chapter-25.html#exercises-67"><strong>25.2.5</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-25.html"><a href="chapter-25.html"><i class="fa fa-check"></i>1. A linear trend seems to be slightly too simple for the overall trend. Can you do better with a quadratic polynomial? How can you interpret the coefficients of the quadratic? (Hint you might want to transform year so that it has mean zero.)</a></li>
<li class="chapter" data-level="" data-path="chapter-25.html"><a href="chapter-25.html#explore-other-methods-for-visualising-the-distribution-of-r2-per-continent.-you-might-want-to-try-the-ggbeeswarm-package-which-provides-similar-methods-for-avoiding-overlaps-as-jitter-but-uses-deterministic-methods."><i class="fa fa-check"></i>2. Explore other methods for visualising the distribution of R2 per continent. You might want to try the ggbeeswarm package, which provides similar methods for avoiding overlaps as jitter, but uses deterministic methods.</a></li>
<li class="chapter" data-level="" data-path="chapter-25.html"><a href="chapter-25.html#to-create-the-last-plot-showing-the-data-for-the-countries-with-the-worst-model-fits-we-needed-two-steps-we-created-a-data-frame-with-one-row-per-country-and-then-semi-joined-it-to-the-original-dataset.-its-possible-to-avoid-this-join-if-we-use-unnest-instead-of-unnest.drop-true.-how"><i class="fa fa-check"></i>3. To create the last plot (showing the data for the countries with the worst model fits), we needed two steps: we created a data frame with one row per country and then semi-joined it to the original dataset. It’s possible to avoid this join if we use unnest() instead of unnest(.drop = TRUE). How?</a></li>
</ul></li>
<li><a href="chapter-25.html#exercises-68"><strong>25.4.5</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-25.html"><a href="chapter-25.html#list-all-the-functions-that-you-can-think-of-that-take-a-atomic-vector-and-return-a-list."><i class="fa fa-check"></i>1. List all the functions that you can think of that take a atomic vector and return a list.</a></li>
<li class="chapter" data-level="" data-path="chapter-25.html"><a href="chapter-25.html#brainstorm-useful-summary-functions-that-like-quantile-return-multiple-values."><i class="fa fa-check"></i>2. Brainstorm useful summary functions that, like quantile(), return multiple values.</a></li>
<li class="chapter" data-level="" data-path="chapter-25.html"><a href="chapter-25.html#whats-missing-in-the-following-data-frame-how-does-quantile-return-that-missing-piece-why-isnt-that-helpful-here"><i class="fa fa-check"></i>3. What’s missing in the following data frame? How does quantile() return that missing piece? Why isn’t that helpful here?</a></li>
<li class="chapter" data-level="" data-path="chapter-25.html"><a href="chapter-25.html#what-does-this-code-do-why-might-might-it-be-useful"><i class="fa fa-check"></i>4. What does this code do? Why might might it be useful?</a></li>
</ul></li>
<li><a href="chapter-25.html#exercises-69"><strong>25.5.3</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-25.html"><a href="chapter-25.html#why-might-the-lengths-function-be-useful-for-creating-atomic-vector-columns-from-list-columns"><i class="fa fa-check"></i>1. Why might the lengths() function be useful for creating atomic vector columns from list-columns?</a></li>
<li class="chapter" data-level="" data-path="chapter-25.html"><a href="chapter-25.html#list-the-most-common-types-of-vector-found-in-a-data-frame.-what-makes-lists-different"><i class="fa fa-check"></i>2. List the most common types of vector found in a data frame. What makes lists different?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="part-communicate.html"><a href="part-communicate.html"><i class="fa fa-check"></i><b>1</b> (PART) Communicate</a></li>
<li><a href="chapter-27.html#chapter-27"><strong>Chapter 27</strong></a><ul>
<li><a href="chapter-27.html#exercises-70"><strong>27.2.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-27.html"><a href="chapter-27.html"><i class="fa fa-check"></i>1. Create a new notebook using File &gt; New File &gt; R Notebook. Read the instructions. Practice running the chunks. Verify that you can modify the code, re-run it, and see modified output.</a></li>
<li class="chapter" data-level="" data-path="chapter-27.html"><a href="chapter-27.html#create-a-new-r-markdown-document-with-file-new-file-r-markdown-knit-it-by-clicking-the-appropriate-button.-knit-it-by-using-the-appropriate-keyboard-short-cut.-verify-that-you-can-modify-the-input-and-see-the-output-update."><i class="fa fa-check"></i>2. Create a new R Markdown document with File &gt; New File &gt; R Markdown… Knit it by clicking the appropriate button. Knit it by using the appropriate keyboard short cut. Verify that you can modify the input and see the output update.</a></li>
<li class="chapter" data-level="" data-path="chapter-27.html"><a href="chapter-27.html#compare-and-contrast-the-r-notebook-and-r-markdown-files-you-created-above.-how-are-the-outputs-similar-how-are-they-different-how-are-the-inputs-similar-how-are-they-different-what-happens-if-you-copy-the-yaml-header-from-one-to-the-other"><i class="fa fa-check"></i>3. Compare and contrast the R notebook and R markdown files you created above. How are the outputs similar? How are they different? How are the inputs similar? How are they different? What happens if you copy the YAML header from one to the other?</a></li>
<li class="chapter" data-level="" data-path="chapter-27.html"><a href="chapter-27.html#create-one-new-r-markdown-document-for-each-of-the-three-built-in-formats-html-pdf-and-word.-knit-each-of-the-three-documents.-how-does-the-output-differ-how-does-the-input-differ-you-may-need-to-install-latex-in-order-to-build-the-pdf-output-rstudio-will-prompt-you-if-this-is-necessary."><i class="fa fa-check"></i>4. Create one new R Markdown document for each of the three built-in formats: HTML, PDF and Word. Knit each of the three documents. How does the output differ? How does the input differ? (You may need to install LaTeX in order to build the PDF output — RStudio will prompt you if this is necessary.)</a></li>
</ul></li>
<li><a href="chapter-27.html#exercises-71"><strong>27.3.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-27.html"><a href="chapter-27.html#practice-what-youve-learned-by-creating-a-brief-cv.-the-title-should-be-your-name-and-you-should-include-headings-for-at-least-education-or-employment.-each-of-the-sections-should-include-a-bulleted-list-of-jobsdegrees.-highlight-the-year-in-bold."><i class="fa fa-check"></i>1. Practice what you’ve learned by creating a brief CV. The title should be your name, and you should include headings for (at least) education or employment. Each of the sections should include a bulleted list of jobs/degrees. Highlight the year in bold.</a></li>
<li class="chapter" data-level="" data-path="chapter-27.html"><a href="chapter-27.html#using-the-r-markdown-quick-reference-figure-out-how-to"><i class="fa fa-check"></i>2. Using the R Markdown quick reference, figure out how to:</a></li>
<li><a href="chapter-27.html#copy-and-paste-the-contents-of-diamond-sizes.rmd-from-httpsgithub.comhadleyr4dstreemasterrmarkdown-in-to-a-local-r-markdown-document.-check-that-you-can-run-it-then-add-text-after-the-frequency-polygon-that-describes-its-most-striking-features.">3. Copy and paste the contents of diamond-sizes.Rmd from <a href="https://github.com/hadley/r4ds/tree/master/rmarkdown" class="uri">https://github.com/hadley/r4ds/tree/master/rmarkdown</a> in to a local R markdown document. Check that you can run it, then add text after the frequency polygon that describes its most striking features.</a></li>
</ul></li>
<li><a href="chapter-27.html#exercises-72"><strong>27.4.7</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-27.html"><a href="chapter-27.html#add-a-section-that-explores-how-diamond-sizes-vary-by-cut-colour-and-clarity.-assume-youre-writing-a-report-for-someone-who-doesnt-know-r-and-instead-of-setting-echo-false-on-each-chunk-set-a-global-option."><i class="fa fa-check"></i>1. Add a section that explores how diamond sizes vary by cut, colour, and clarity. Assume you’re writing a report for someone who doesn’t know R, and instead of setting echo = FALSE on each chunk, set a global option.</a></li>
<li><a href="chapter-27.html#download-diamond-sizes.rmd-from-httpsgithub.comhadleyr4dstreemasterrmarkdown.-add-a-section-that-describes-the-largest-20-diamonds-including-a-table-that-displays-their-most-important-attributes.">2. Download diamond-sizes.Rmd from <a href="https://github.com/hadley/r4ds/tree/master/rmarkdown" class="uri">https://github.com/hadley/r4ds/tree/master/rmarkdown</a>. Add a section that describes the largest 20 diamonds, including a table that displays their most important attributes.</a></li>
<li class="chapter" data-level="" data-path="chapter-27.html"><a href="chapter-27.html#modify-diamonds-sizes.rmd-to-use-comma-to-produce-nicely-formatted-output.-also-include-the-percentage-of-diamonds-that-are-larger-than-2.5-carats."><i class="fa fa-check"></i>3. Modify diamonds-sizes.Rmd to use comma() to produce nicely formatted output. Also include the percentage of diamonds that are larger than 2.5 carats.</a></li>
<li class="chapter" data-level="" data-path="chapter-27.html"><a href="chapter-27.html#set-up-a-network-of-chunks-where-d-depends-on-c-and-b-and-both-b-and-c-depend-on-a.-have-each-chunk-print-lubridatenow-set-cache-true-then-verify-your-understanding-of-caching."><i class="fa fa-check"></i>4. Set up a network of chunks where d depends on c and b, and both b and c depend on a. Have each chunk print lubridate::now(), set cache = TRUE, then verify your understanding of caching.</a></li>
</ul></li>
</ul></li>
<li><a href="chapter-28.html#chapter-28"><strong>Chapter 28</strong></a><ul>
<li><a href="chapter-28.html#exercises-73"><strong>28.2.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-28.html"><a href="chapter-28.html"><i class="fa fa-check"></i>1. Create one plot on the fuel economy data with customised title, subtitle, caption, x, y, and colour labels.</a></li>
<li class="chapter" data-level="" data-path="chapter-28.html"><a href="chapter-28.html#the-geom_smooth-is-somewhat-misleading-because-the-hwy-for-large-engines-is-skewed-upwards-due-to-the-inclusion-of-lightweight-sports-cars-with-big-engines.-use-your-modelling-tools-to-fit-and-display-a-better-model."><i class="fa fa-check"></i>2. The geom_smooth() is somewhat misleading because the hwy for large engines is skewed upwards due to the inclusion of lightweight sports cars with big engines. Use your modelling tools to fit and display a better model.</a></li>
<li class="chapter" data-level="" data-path="chapter-28.html"><a href="chapter-28.html#take-an-exploratory-graphic-that-youve-created-in-the-last-month-and-add-informative-titles-to-make-it-easier-for-others-to-understand."><i class="fa fa-check"></i>3. Take an exploratory graphic that you’ve created in the last month, and add informative titles to make it easier for others to understand.</a></li>
</ul></li>
<li><a href="chapter-28.html#exercises-74"><strong>28.3.1</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-28.html"><a href="chapter-28.html#use-geom_text-with-infinite-positions-to-place-text-at-the-four-corners-of-the-plot."><i class="fa fa-check"></i>1. Use geom_text() with infinite positions to place text at the four corners of the plot.</a></li>
<li class="chapter" data-level="" data-path="chapter-28.html"><a href="chapter-28.html#read-the-documentation-for-annotate.-how-can-you-use-it-to-add-a-text-label-to-a-plot-without-having-to-create-a-tibble"><i class="fa fa-check"></i>2. Read the documentation for annotate(). How can you use it to add a text label to a plot without having to create a tibble?</a></li>
<li class="chapter" data-level="" data-path="chapter-28.html"><a href="chapter-28.html#how-do-labels-with-geom_text-interact-with-faceting-how-can-you-add-a-label-to-a-single-facet-how-can-you-put-a-different-label-in-each-facet-hint-think-about-the-underlying-data."><i class="fa fa-check"></i>3. How do labels with geom_text() interact with faceting? How can you add a label to a single facet? How can you put a different label in each facet? (Hint: think about the underlying data.)</a></li>
<li class="chapter" data-level="" data-path="chapter-28.html"><a href="chapter-28.html#what-arguments-to-geom_label-control-the-appearance-of-the-background-box"><i class="fa fa-check"></i>4. What arguments to geom_label() control the appearance of the background box?</a></li>
<li class="chapter" data-level="" data-path="chapter-28.html"><a href="chapter-28.html#what-are-the-four-arguments-to-arrow-how-do-they-work-create-a-series-of-plots-that-demonstrate-the-most-important-options."><i class="fa fa-check"></i>5. What are the four arguments to arrow()? How do they work? Create a series of plots that demonstrate the most important options.</a></li>
</ul></li>
<li><a href="chapter-28.html#exercises-75"><strong>28.4.4</strong> Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-28.html"><a href="chapter-28.html#why-doesnt-the-following-code-override-the-default-scale"><i class="fa fa-check"></i>1. Why doesn’t the following code override the default scale?</a></li>
<li class="chapter" data-level="" data-path="chapter-28.html"><a href="chapter-28.html#what-is-the-first-argument-to-every-scale-how-does-it-compare-to-labs"><i class="fa fa-check"></i>2. What is the first argument to every scale? How does it compare to labs()?</a></li>
<li class="chapter" data-level="" data-path="chapter-28.html"><a href="chapter-28.html#change-the-display-of-the-presidential-terms-by"><i class="fa fa-check"></i>3. Change the display of the presidential terms by:</a></li>
<li class="chapter" data-level="" data-path="chapter-28.html"><a href="chapter-28.html#use-override.aes-to-make-the-legend-on-the-following-plot-easier-to-see."><i class="fa fa-check"></i>4. Use override.aes to make the legend on the following plot easier to see.</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Data Science Walkthrough</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chapter-14-strings" class="section level1 unnumbered">
<h1><strong>Chapter 14</strong> Strings</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)</code></pre></div>
<p>For Chapter 14, since the github_document R markdown format does not support html output, I will comment out the “str_view()” commands and replace them with str_extract() or str_subset(), as appropriate. This will still let you observe which words or strings are matched by the regex. You can also type the str_view() command into your own RStudio instance to observe the output.</p>
<div id="exercises-30" class="section level2 unnumbered">
<h2><strong>14.2.5</strong> Exercises</h2>
<div id="in-code-that-doesnt-use-stringr-youll-often-see-paste-and-paste0.-whats-the-difference-between-the-two-functions-what-stringr-function-are-they-equivalent-to-how-do-the-functions-differ-in-their-handling-of-na" class="section level3 unnumbered">
<h3>1. In code that doesn’t use stringr, you’ll often see paste() and paste0(). What’s the difference between the two functions? What stringr function are they equivalent to? How do the functions differ in their handling of NA?</h3>
<p>The paste() function and paste0() functions are used to concatenate vectors after converting to character. In other words, combine converted strings together into one string. paste0() differs from paste() in that it always combines the strings without a separating value, whereas paste() allows you to specify the <code>sep</code> argument. When sep = “”, paste() provides the same output as paste0(). The stringr function they are equivalent to is str_c().</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p =<span class="st"> </span><span class="ot">NA</span>
<span class="kw">paste</span>(<span class="st">&quot;the value of p is &quot;</span>, p)</code></pre></div>
<pre><code>## [1] &quot;the value of p is  NA&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_c</span>(<span class="st">&quot;the value of p is &quot;</span>, p)</code></pre></div>
<pre><code>## [1] NA</code></pre>
</div>
<div id="in-your-own-words-describe-the-difference-between-the-sep-and-collapse-arguments-to-str_c." class="section level3 unnumbered">
<h3>2. In your own words, describe the difference between the sep and collapse arguments to str_c().</h3>
<p>The sep argument allows you to specify what types of characters will lie between the items being joined. For example, you can choose to separate things with commas rather than the default no-space “”. These separators will be inserted between each separate item fed into str_c, and will not be placed if a pre-vectorized argument is provided. If you have a premade vector that you want to join into one string with a specified separator, the collapse argument should be used, in which you specify the type of separator you want inserted. Below is an example illustrating these points.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">join_me &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">88</span>, <span class="st">&quot;hello&quot;</span>, <span class="st">&quot;world&quot;</span>)
<span class="kw">str_c</span>(<span class="dv">88</span>, <span class="st">&quot;hello&quot;</span>, <span class="st">&quot;world&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;88helloworld&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_c</span>(<span class="dv">88</span>, <span class="st">&quot;hello&quot;</span>, <span class="st">&quot;world&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;, &quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;88, hello, world&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># sep does not place the commas if a premade vector is fed into str_c</span>
<span class="kw">str_c</span>(join_me, <span class="dt">sep =</span> <span class="st">&quot;, &quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;88&quot;    &quot;hello&quot; &quot;world&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># use collapse instead if you want to place separators into premade vector</span>
<span class="kw">str_c</span>(join_me, <span class="dt">collapse =</span> <span class="st">&quot;, &quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;88, hello, world&quot;</code></pre>
</div>
<div id="use-str_length-and-str_sub-to-extract-the-middle-character-from-a-string.-what-will-you-do-if-the-string-has-an-even-number-of-characters" class="section level3 unnumbered">
<h3>3. Use str_length() and str_sub() to extract the middle character from a string. What will you do if the string has an even number of characters?</h3>
<p>To extract the middle character from a string, we can use str_length()/2 to find the middle index of the string, then use str_sub() to extract the character at that index. For even character strings, it would make sense to extract the two characters at the very center of the string. I wrote a function get_middle() that would test whether a string has an even number or odd number of characters using %%, then apply the appropriate str_sub() command to get the middle character or middle two characters.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">get_middle &lt;-<span class="st"> </span><span class="cf">function</span> (my_str) {
  <span class="cf">if</span> (<span class="kw">str_length</span>(my_str)<span class="op">%%</span><span class="dv">2</span> <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>){
    <span class="kw">return</span> (<span class="kw">str_sub</span>(my_str, <span class="kw">ceiling</span>(<span class="kw">str_length</span>(my_str)<span class="op">/</span><span class="dv">2</span>), <span class="kw">ceiling</span>(<span class="kw">str_length</span>(my_str)<span class="op">/</span><span class="dv">2</span>)))
  } <span class="cf">else</span> {
    <span class="kw">return</span> (<span class="kw">str_sub</span>(my_str, <span class="kw">ceiling</span>(<span class="kw">str_length</span>(my_str)<span class="op">/</span><span class="dv">2</span>), <span class="kw">ceiling</span>(<span class="kw">str_length</span>(my_str)<span class="op">/</span><span class="dv">2</span><span class="op">+</span><span class="dv">1</span>)))
  }
}

<span class="kw">get_middle</span> (<span class="st">&quot;qwert&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;e&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">get_middle</span> (<span class="st">&quot;qwerty&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;er&quot;</code></pre>
</div>
<div id="what-does-str_wrap-do-when-might-you-want-to-use-it" class="section level3 unnumbered">
<h3>4. What does str_wrap() do? When might you want to use it?</h3>
<p>str_wrap(), as the name suggests, wraps a string into a paragraph. You can specify how wide to make each line of the paragraph using the width argument. It does so by inserting a newline <code>'\n'</code> at the appropriate positions. This would be useful for printing very long strings. Below is an example of using str_wrap().</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">long_string &lt;-<span class="st"> &#39;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.&#39;</span>

long_string</code></pre></div>
<pre><code>## [1] &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_wrap</span>(long_string, <span class="dt">width =</span> <span class="dv">30</span>)</code></pre></div>
<pre><code>## [1] &quot;Lorem ipsum dolor sit amet,\nconsectetur adipiscing\nelit, sed do eiusmod tempor\nincididunt ut labore et dolore\nmagna aliqua.&quot;</code></pre>
</div>
<div id="what-does-str_trim-do-whats-the-opposite-of-str_trim" class="section level3 unnumbered">
<h3>5. What does str_trim() do? What’s the opposite of str_trim()?</h3>
<p>str_trim() will remove whitespace from the start and end of a string. The opposite of str_trim() is str_pad(), which can be used to add whitespace to either the left, right, or both sides of a string. Below is an example of using both functions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">whitespace &lt;-<span class="st"> &quot;  why is there whitespace on both sides?   &quot;</span>
whitespace</code></pre></div>
<pre><code>## [1] &quot;  why is there whitespace on both sides?   &quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_trim</span>(whitespace)</code></pre></div>
<pre><code>## [1] &quot;why is there whitespace on both sides?&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_pad</span>(<span class="st">&quot;add some whitespace to the left!&quot;</span>, <span class="dv">40</span>, <span class="dt">side =</span> <span class="st">&quot;left&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;        add some whitespace to the left!&quot;</code></pre>
</div>
<div id="write-a-function-that-turns-e.g.-a-vector-ca-b-c-into-the-string-a-b-and-c.-think-carefully-about-what-it-should-do-if-given-a-vector-of-length-0-1-or-2." class="section level3 unnumbered">
<h3>6. Write a function that turns (e.g.) a vector c(“a”, “b”, “c”) into the string a, b, and c. Think carefully about what it should do if given a vector of length 0, 1, or 2.</h3>
<p>We can write a function that checks the length of the vector using length() and uses if else statements to perform the appropriate action. For vectors of length 0, we should return an empty string “”. For vectors of length 1, we should just return the single item as-is. For vectors of length &gt; 1, we should return the output specified in the question: “item-1, item-2, … item-n-1, and item-n”. To combine the items in the vector appropriately, we can first collapse the first n-1 items using str_c( collapse = “,”), then use str_c on this collapsed string with “, and”, and with the last item in the vector. This will insert the commas at the right locations, as well as the word “and” right before the last item in the vector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># function name is convert_str</span>
convert_str &lt;-<span class="st"> </span><span class="cf">function</span> (str_vector) {
  <span class="cf">if</span> (<span class="kw">length</span>(str_vector) <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {
    <span class="kw">return</span> (<span class="st">&quot;&quot;</span>)
  } <span class="cf">else</span> <span class="cf">if</span> (<span class="kw">length</span> (str_vector) <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) {
    <span class="kw">return</span> (str_vector[<span class="dv">1</span>])
  } <span class="cf">else</span> {
    combined_minus_last &lt;-<span class="st"> </span><span class="kw">str_c</span>(str_vector[<span class="dv">1</span><span class="op">:</span>(<span class="kw">length</span>(str_vector)<span class="op">-</span><span class="dv">1</span>)], <span class="dt">collapse =</span> <span class="st">&quot;, &quot;</span>) <span class="co"># collapse all items except the last one</span>
    <span class="kw">return</span>( <span class="kw">str_c</span> (combined_minus_last, <span class="st">&quot;, and &quot;</span>, str_vector[<span class="kw">length</span>(str_vector)])) <span class="co"># concatenate the word &quot;and&quot; and the last item</span>
  }
}

<span class="kw">convert_str</span>(<span class="kw">c</span>(<span class="st">&quot;fee&quot;</span>, <span class="st">&quot;fi&quot;</span>, <span class="st">&quot;fo&quot;</span>, <span class="st">&quot;fum&quot;</span>))</code></pre></div>
<pre><code>## [1] &quot;fee, fi, fo, and fum&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">convert_str</span>(<span class="kw">c</span>(<span class="st">&quot;fee&quot;</span>))</code></pre></div>
<pre><code>## [1] &quot;fee&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">convert_str</span>(<span class="kw">c</span>())</code></pre></div>
<pre><code>## [1] &quot;&quot;</code></pre>
</div>
</div>
<div id="exercises-31" class="section level2 unnumbered">
<h2><strong>14.3.1.1</strong> Exercises</h2>
<div id="explain-why-each-of-these-strings-dont-match-a-." class="section level3 unnumbered">
<h3>1. Explain why each of these strings don’t match a <code>\</code>: <code>&quot;\&quot;, &quot;\\&quot;, &quot;\\\&quot;</code>.</h3>
<p>To match a literal <code>\</code>, you need to use four backslashes, <code>&quot;\\\\&quot;</code>. One backslash, two backslashes, and 3 backslashes wont work! One backslash <code>&quot;\&quot;</code> won’t work because it will “escape” the quotation, resulting in an error. Using 3 backslashes <code>&quot;\\\&quot;</code> will also result in an error, and using 4 backslashes <code>&quot;\\\\&quot;</code> will finally let us match the single literal <code>\</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">literal_backslash &lt;-<span class="st"> &quot;hello_</span><span class="ch">\\</span><span class="st">_world&quot;</span>
<span class="co"># str_view(literal_backslash, &quot;\\\\&quot;)</span>
<span class="kw">str_extract</span>(literal_backslash, <span class="st">&quot;</span><span class="ch">\\\\</span><span class="st">&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;\\&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># errors</span>
<span class="co"># x &lt;- &quot;\&quot;</span>
<span class="co"># x &lt;- &quot;\\\&quot;</span></code></pre></div>
</div>
<div id="how-would-you-match-the-sequence" class="section level3 unnumbered">
<h3>2. How would you match the sequence <code>&quot;'\</code>?</h3>
<p>I would use the regex: <code>&quot;\&quot;\'\\\\&quot;</code>. This escapes the “, escapes the ’, then uses the four backslashes to identify the literal <code>\</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example &lt;-<span class="st"> &quot;hello_</span><span class="ch">\&quot;\&#39;\\</span><span class="st">_world&quot;</span>
<span class="kw">writeLines</span>(example)</code></pre></div>
<pre><code>## hello_&quot;&#39;\_world</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str_view(example, &quot;\&quot;\&#39;\\\\&quot; )</span>
<span class="kw">str_extract</span>(example, <span class="st">&quot;</span><span class="ch">\&quot;\&#39;\\\\</span><span class="st">&quot;</span> )</code></pre></div>
<pre><code>## [1] &quot;\&quot;&#39;\\&quot;</code></pre>
</div>
<div id="what-patterns-will-the-regular-expression-......-match-how-would-you-represent-it-as-a-string" class="section level3 unnumbered">
<h3>3. What patterns will the regular expression <code>\..\..\..</code> match? How would you represent it as a string?</h3>
<p>If interepreted as a regular expression and not as the string-form of a regular expression, this will match a period <code>\.</code>, followed by any character <code>.</code>, followed by another period, any character, another period, and then any character. Below, I’ve represented it as a string in R. Because of the backslash convention, it will error if you try to plug <code>\..\..\..</code> in directly.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># test &lt;- &quot;\..\..\..&quot; # errors</span>

<span class="co"># need to double backslash within the string</span>
test &lt;-<span class="st"> &quot;</span><span class="ch">\\</span><span class="st">..</span><span class="ch">\\</span><span class="st">..</span><span class="ch">\\</span><span class="st">..&quot;</span>
<span class="kw">writeLines</span>(test)</code></pre></div>
<pre><code>## \..\..\..</code></pre>
</div>
</div>
<div id="exercises-32" class="section level2 unnumbered">
<h2><strong>14.3.2.1</strong> Exercises</h2>
<div id="how-would-you-match-the-literal-string" class="section level3 unnumbered">
<h3>1. How would you match the literal string <code>&quot;$^$&quot;</code>?</h3>
<p>Below, i use <code>&quot;\\$\\^\\$&quot;</code> to match the literal string <code>&quot;$^$&quot;</code>. This is because you have to double backslash the <code>$</code> and ^ characters, which usually serve the purpose of matching the end or start of strings, respectively.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">test &lt;-<span class="st"> &quot;$^$hello&quot;</span>
<span class="kw">writeLines</span>(test)</code></pre></div>
<pre><code>## $^$hello</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str_view(test, &quot;\\$\\^\\$&quot;)</span>
<span class="kw">str_extract</span>(test, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">$</span><span class="ch">\\</span><span class="st">^</span><span class="ch">\\</span><span class="st">$&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;$^$&quot;</code></pre>
</div>
<div id="given-the-corpus-of-common-words-in-stringrwords-create-regular-expressions-that-find-all-words-that" class="section level3 unnumbered">
<h3>2. Given the corpus of common words in stringr::words, create regular expressions that find all words that:</h3>
<ul>
<li>Start with “y”.</li>
<li>End with “x”</li>
<li>Are exactly three letters long. (Don’t cheat by using str_length()!)</li>
<li>Have seven letters or more. Since this list is long, you might want to use the match argument to str_view() to show only the matching or non-matching words.</li>
</ul>
<p>To match words that start with y, use the “^” anchor before “y”. To match words that end with x, use the <code>&quot;\$&quot;</code> anchor after “x”. To match words that are exactly three letters long, we can use both anchors “^” and <code>&quot;\$&quot;</code> wrapped around 3 dots, which specify a series of any 3 characters. To match words that have seven letters or more, we can use the “^” anchor plus seven dots, which specify a series of any seven characters.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># display a sample of stringr::words</span>
<span class="kw">head</span>(words)</code></pre></div>
<pre><code>## [1] &quot;a&quot;        &quot;able&quot;     &quot;about&quot;    &quot;absolute&quot; &quot;accept&quot;   &quot;account&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># starts with &quot;y&quot;</span>
<span class="co"># str_view(words, &quot;^y&quot;, match = T)</span>
<span class="kw">str_subset</span>(words, <span class="st">&quot;^y&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;year&quot;      &quot;yes&quot;       &quot;yesterday&quot; &quot;yet&quot;       &quot;you&quot;       &quot;young&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ends with &quot;x&quot;</span>
<span class="co"># str_view(words, &quot;x$&quot;, match = T)</span>
<span class="kw">str_subset</span>(words, <span class="st">&quot;x$&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;box&quot; &quot;sex&quot; &quot;six&quot; &quot;tax&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># are exactly 3 letters long</span>
<span class="co"># str_view(words, &quot;^...$&quot;)</span>
<span class="kw">str_subset</span>(words, <span class="st">&quot;^...$&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>(<span class="dv">10</span>)</code></pre></div>
<pre><code>##  [1] &quot;act&quot; &quot;add&quot; &quot;age&quot; &quot;ago&quot; &quot;air&quot; &quot;all&quot; &quot;and&quot; &quot;any&quot; &quot;arm&quot; &quot;art&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># have seven letters or more</span>
<span class="co"># str_view(words, &quot;^.......&quot;)</span>
<span class="kw">str_subset</span>(words, <span class="st">&quot;^.......&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>(<span class="dv">10</span>)</code></pre></div>
<pre><code>##  [1] &quot;absolute&quot;  &quot;account&quot;   &quot;achieve&quot;   &quot;address&quot;   &quot;advertise&quot;
##  [6] &quot;afternoon&quot; &quot;against&quot;   &quot;already&quot;   &quot;alright&quot;   &quot;although&quot;</code></pre>
</div>
</div>
<div id="exercises-33" class="section level2 unnumbered">
<h2><strong>14.3.3.1</strong> Exercises</h2>
<div id="create-regular-expressions-to-find-all-words-that" class="section level3 unnumbered">
<h3>1. Create regular expressions to find all words that:</h3>
<ul>
<li>Start with a vowel.</li>
<li>That only contain consonants. (Hint: thinking about matching “not”-vowels.)</li>
<li>End with ed, but not with eed.</li>
<li>End with ing or ise.</li>
</ul>
<p>To find words that start with vowels, we can use the “^” anchor along with a selection of vowels using the brackets. To find words that only contain consonants, we can specify that, from start to end (using ^ and <code>\$</code>), there are no vowels (using ^ within brackets, along with the + sign, which means 1 or more of something). To find words that end in ed, but not eed, we can specify that we want words that end with ed, but have anything other than an e beforehand using [^e]. For words that end in ing or ise, we can use the “or” character “|” to combine two separate regexes, one that looks for <code>ing\$</code> and one that looks for <code>ise\$</code>. Below are the regexes I have described in words above.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># starts with a vowel</span>
<span class="co"># str_view(words, &quot;^[aeiou]&quot;)</span>
<span class="kw">str_subset</span>(words, <span class="st">&quot;^[aeiou]&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>(<span class="dv">10</span>)</code></pre></div>
<pre><code>##  [1] &quot;a&quot;        &quot;able&quot;     &quot;about&quot;    &quot;absolute&quot; &quot;accept&quot;   &quot;account&quot; 
##  [7] &quot;achieve&quot;  &quot;across&quot;   &quot;act&quot;      &quot;active&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># only contain consonants</span>
<span class="co"># str_view(words, &quot;^[^aeiou]+$&quot;, match = T)</span>
<span class="kw">str_subset</span>(words, <span class="st">&quot;^[^aeiou]+$&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;by&quot;  &quot;dry&quot; &quot;fly&quot; &quot;mrs&quot; &quot;try&quot; &quot;why&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ends with ed, but not eed</span>
<span class="co"># str_view(words, &quot;[^e]ed$&quot;, match = T)</span>
<span class="kw">str_subset</span>(words, <span class="st">&quot;[^e]ed$&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;bed&quot;     &quot;hundred&quot; &quot;red&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ends with ing or ise</span>
<span class="co"># str_view(words, &quot;ing$|ise$&quot;, match = T)</span>
<span class="kw">str_subset</span>(words, <span class="st">&quot;ing$|ise$&quot;</span>)</code></pre></div>
<pre><code>##  [1] &quot;advertise&quot; &quot;bring&quot;     &quot;during&quot;    &quot;evening&quot;   &quot;exercise&quot; 
##  [6] &quot;king&quot;      &quot;meaning&quot;   &quot;morning&quot;   &quot;otherwise&quot; &quot;practise&quot; 
## [11] &quot;raise&quot;     &quot;realise&quot;   &quot;ring&quot;      &quot;rise&quot;      &quot;sing&quot;     
## [16] &quot;surprise&quot;  &quot;thing&quot;</code></pre>
</div>
<div id="empirically-verify-the-rule-i-before-e-except-after-c." class="section level3 unnumbered">
<h3>2. Empirically verify the rule “i before e except after c”.</h3>
<p>To examine whether any words in the dataset break this rule, we can search for words with the sequence of characters “cie”, which contain an i before e even after a c. This yields the words “science” an “society”. This tells us that the rule is not 100% correct! Searching for “cei”, which will show words that adhere to the rule, yields “receive”, which tells us that the rule might be correct for certain words. Is i always before e, even after something that is not c? Searching for words that do not follow this convention (i AFTER e, after anything other than a c) using the regex “[^c]ei” yields the word “weigh”, which again disproves the rule. Searching for words that follow the rule (ie before e, after anything other than a c) using the regex “[^c]ie” yields many results, which shows us that the rule applies for most words, but not all of them.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># list words that contain i before e, after a c. if this yields matches, then the rule is false!</span>
<span class="co"># str_view(words, &quot;cie&quot;, match = T)</span>
<span class="co"># str_view(words, &quot;cei&quot;, match = T)</span>
<span class="co"># str_view(words, &quot;[^c]ei&quot;, match = T)</span>
<span class="co"># str_view(words, &quot;[^c]ie&quot;, match = T)</span>

<span class="kw">str_subset</span>(words, <span class="st">&quot;cie&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;science&quot; &quot;society&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_subset</span>(words, <span class="st">&quot;cei&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;receive&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_subset</span>(words, <span class="st">&quot;[^c]ei&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;weigh&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_subset</span>(words, <span class="st">&quot;[^c]ie&quot;</span>)</code></pre></div>
<pre><code>##  [1] &quot;achieve&quot;    &quot;believe&quot;    &quot;brief&quot;      &quot;client&quot;     &quot;die&quot;       
##  [6] &quot;experience&quot; &quot;field&quot;      &quot;friend&quot;     &quot;lie&quot;        &quot;piece&quot;     
## [11] &quot;quiet&quot;      &quot;tie&quot;        &quot;view&quot;</code></pre>
</div>
<div id="is-q-always-followed-by-a-u" class="section level3 unnumbered">
<h3>3. Is “q” always followed by a “u”?</h3>
<p>In the words dataset, we can identify words that contain q followed by any character using the regex “q.”. All the results contain “q” followed by a “u”. Alternatively, we can identify words that contain q followed by anything other than a “u”, using “q[^u]”. Because this does not yield any results, it does seem like “q” is followed by a “u” in this dataset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># list words that contain q followed by any character</span>
<span class="co"># str_view(words, &quot;q.&quot;, match = T)</span>
<span class="kw">str_subset</span>(words, <span class="st">&quot;q.&quot;</span>)</code></pre></div>
<pre><code>##  [1] &quot;equal&quot;    &quot;quality&quot;  &quot;quarter&quot;  &quot;question&quot; &quot;quick&quot;    &quot;quid&quot;    
##  [7] &quot;quiet&quot;    &quot;quite&quot;    &quot;require&quot;  &quot;square&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># list words that contain q followed by something other than u (no matches)</span>
<span class="co"># str_view(words, &quot;q[^u]&quot;, match = T)</span>
<span class="kw">str_subset</span>(words, <span class="st">&quot;q[^u]&quot;</span>)</code></pre></div>
<pre><code>## character(0)</code></pre>
</div>
<div id="write-a-regular-expression-that-matches-a-word-if-its-probably-written-in-british-english-not-american-english." class="section level3 unnumbered">
<h3>4. Write a regular expression that matches a word if it’s probably written in British English, not American English.</h3>
<p>Some common differences between British and American English include colour instead of color, so we could look for the sequence “lou”. Other differences include “summarize” vs “summarise”, so we could also include a search for the sequence “ise”. Of course, this will also fetch words such as “practice” that do not have two forms.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str_view(words, &quot;lou|ise&quot;, match = T)</span>
<span class="kw">str_subset</span>(words, <span class="st">&quot;lou|ise&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;advertise&quot; &quot;colour&quot;    &quot;exercise&quot;  &quot;otherwise&quot; &quot;practise&quot;  &quot;raise&quot;    
## [7] &quot;realise&quot;   &quot;rise&quot;      &quot;surprise&quot;</code></pre>
</div>
<div id="create-a-regular-expression-that-will-match-telephone-numbers-as-commonly-written-in-your-country." class="section level3 unnumbered">
<h3>5. Create a regular expression that will match telephone numbers as commonly written in your country.</h3>
<p>Phone numbers in the US can have the form (XXX) XXX - XXXX. Below is the regex that can be used to identify, very strictly, numbers that adhere to this exact form (including spacing and parentheses). Note the double backslash required to specify a digit. There is a more efficient way to write the regex below using brackets <code>{}</code>, but that is covered in the next section!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str_view ( c(&quot;(123) 456 - 7890 is a fake number,&quot;,&quot;and (555) 555 - 5555 is also a fake number&quot;), &quot;\\(\\d\\d\\d\\)\\s\\d\\d\\d\\s-\\s\\d\\d\\d\\d&quot;)</span>
<span class="kw">str_extract</span> ( <span class="kw">c</span>(<span class="st">&quot;(123) 456 - 7890 is a fake number,&quot;</span>,<span class="st">&quot;and (555) 555 - 5555 is also a fake number&quot;</span>), <span class="st">&quot;</span><span class="ch">\\</span><span class="st">(</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">)</span><span class="ch">\\</span><span class="st">s</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">s-</span><span class="ch">\\</span><span class="st">s</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;(123) 456 - 7890&quot; &quot;(555) 555 - 5555&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># same regex using brackets</span>
<span class="co"># str_view ( c(&quot;(123) 456 - 7890 is a fake number,&quot;,&quot;and (555) 555 - 5555 is also a fake number&quot;), &quot;\\(\\d{3}\\)\\s\\d{3}\\s-\\s\\d{4}&quot;)</span>
<span class="kw">str_extract</span> ( <span class="kw">c</span>(<span class="st">&quot;(123) 456 - 7890 is a fake number,&quot;</span>,<span class="st">&quot;and (555) 555 - 5555 is also a fake number&quot;</span>), <span class="st">&quot;</span><span class="ch">\\</span><span class="st">(</span><span class="ch">\\</span><span class="st">d{3}</span><span class="ch">\\</span><span class="st">)</span><span class="ch">\\</span><span class="st">s</span><span class="ch">\\</span><span class="st">d{3}</span><span class="ch">\\</span><span class="st">s-</span><span class="ch">\\</span><span class="st">s</span><span class="ch">\\</span><span class="st">d{4}&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;(123) 456 - 7890&quot; &quot;(555) 555 - 5555&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">writeLines</span>(<span class="kw">c</span>(<span class="st">&quot;(</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d)</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d-</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">(</span><span class="ch">\\</span><span class="st">d{3}</span><span class="ch">\\</span><span class="st">)</span><span class="ch">\\</span><span class="st">s</span><span class="ch">\\</span><span class="st">d{3}</span><span class="ch">\\</span><span class="st">s-</span><span class="ch">\\</span><span class="st">s</span><span class="ch">\\</span><span class="st">d{4}&quot;</span>))</code></pre></div>
<pre><code>## (\d\d\d)\d\d\d-\d\d\d\d
## \(\d{3}\)\s\d{3}\s-\s\d{4}</code></pre>
</div>
</div>
<div id="exercises-34" class="section level2 unnumbered">
<h2><strong>14.3.4.1</strong> Exercises</h2>
<div id="describe-the-equivalents-of-in-mn-form." class="section level3 unnumbered">
<h3>1. Describe the equivalents of <code>?, +, *</code> in <code>{m,n}</code> form.</h3>
<p>? is equivalent to <code>{0,1}</code> in that it matches either 0 or 1 occurances of the preceding regex or character. + is equivalent to <code>{1,}</code> in that it matches 1 or more occurances of the character/regex. * is equivalent to <code>{0,}</code> in that it matches from 0 to any number of occurances of the character/regex.</p>
</div>
<div id="describe-in-words-what-these-regular-expressions-match-read-carefully-to-see-if-im-using-a-regular-expression-or-a-string-that-defines-a-regular-expression." class="section level3 unnumbered">
<h3>2. Describe in words what these regular expressions match: (read carefully to see if I’m using a regular expression or a string that defines a regular expression.)</h3>
<ul>
<li><p><code>^.*$</code> This matches any series of characters of 0 to any length. The anchor ^ specifies the start of the string, the . specifies any character, and the <code>*</code> specifies that the previous regex, (.), can be of 0 to any length, and the <code>$</code> specifies the end of the string.</p></li>
<li><p><code>&quot;\\{.+\\}&quot;</code> This matches a literal bracket, <code>{</code>, followed by 1 or more series of any characters, followed by a literal closing bracket, <code>}</code>. This will match strings like: <code>&quot;{hello world}&quot;</code>.</p></li>
<li><p><code>\d{4}-\d{2}-\d{2}</code> This will match 4 digits, followed by a hyphen, two digits, a hyphen, and another 2 digits. For example: “5555-55-55”</p></li>
<li><p><code>&quot;\\\\{4}&quot;</code> This will match a literal backslash repeated 4 times. For example: <code>\\\\</code>.</p></li>
</ul>
<p>Here are the above regexes and some sample input so you can see what types of character sequences they match:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str_view(words, &quot;^.*$&quot;)</span>
<span class="co"># str_view(&quot;hello world, {hello world} hello world&quot;, &quot;\\{.+\\}&quot;)</span>
<span class="co"># str_view(&quot;5555-55-55asdf&quot;, &quot;\\d{4}-\\d{2}-\\d{2}&quot;)</span>
<span class="co"># str_view(&quot;\\\\\\\\asdf&quot;, &quot;\\\\{4}&quot;)</span>

<span class="kw">str_subset</span>(words, <span class="st">&quot;^.*$&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>(<span class="dv">10</span>)</code></pre></div>
<pre><code>##  [1] &quot;a&quot;        &quot;able&quot;     &quot;about&quot;    &quot;absolute&quot; &quot;accept&quot;   &quot;account&quot; 
##  [7] &quot;achieve&quot;  &quot;across&quot;   &quot;act&quot;      &quot;active&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_extract</span>(<span class="st">&quot;hello world, {hello world} hello world&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">{.+</span><span class="ch">\\</span><span class="st">}&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;{hello world}&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_extract</span>(<span class="st">&quot;5555-55-55asdf&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">d{4}-</span><span class="ch">\\</span><span class="st">d{2}-</span><span class="ch">\\</span><span class="st">d{2}&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;5555-55-55&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_extract</span>(<span class="st">&quot;</span><span class="ch">\\\\\\\\</span><span class="st">asdf&quot;</span>, <span class="st">&quot;</span><span class="ch">\\\\</span><span class="st">{4}&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;\\\\\\\\&quot;</code></pre>
</div>
<div id="create-regular-expressions-to-find-all-words-that-1" class="section level3 unnumbered">
<h3>3. Create regular expressions to find all words that:</h3>
<ul>
<li>Start with three consonants.</li>
<li>Have three or more vowels in a row.</li>
<li>Have two or more vowel-consonant pairs in a row.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># three consonants</span>
<span class="co"># str_view(&quot;street&quot;, &#39;[^aeiou]{3}&#39;)</span>
<span class="kw">str_extract</span>(<span class="st">&quot;street&quot;</span>, <span class="st">&#39;[^aeiou]{3}&#39;</span>)</code></pre></div>
<pre><code>## [1] &quot;str&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#three or more vowels in a row:</span>
<span class="co"># str_view(&quot;streeet&quot;, &#39;[aeiou]{3,}&#39;)</span>
<span class="kw">str_extract</span>(<span class="st">&quot;streeet&quot;</span>, <span class="st">&#39;[aeiou]{3,}&#39;</span>)</code></pre></div>
<pre><code>## [1] &quot;eee&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># two or more vowel-consonant pairs in a row:</span>
<span class="co"># str_view(&quot;streettttt&quot;, &#39;([aeiou][^aeiou]|[^aeiou][aeiou]){2,}&#39;)</span>
<span class="kw">str_extract</span>(<span class="st">&quot;streettttt&quot;</span>, <span class="st">&#39;([aeiou][^aeiou]|[^aeiou][aeiou]){2,}&#39;</span>)</code></pre></div>
<pre><code>## [1] &quot;reet&quot;</code></pre>
</div>
<div id="solve-the-beginner-regexp-crosswords-at-httpsregexcrossword.comchallengesbeginner." class="section level3 unnumbered">
<h3>4. Solve the beginner regexp crosswords at <a href="https://regexcrossword.com/challenges/beginner" class="uri">https://regexcrossword.com/challenges/beginner</a>.</h3>
<p>Here are the solutions with some explanations to how I arrived at the answers:</p>
<p>Beginner puzzle 1, Beatles: row 1: HE|LL|O+, row2: [PLEASE]+, column 1: [^SPEAK]+, column 2: EP|IP|EF. Solution: row1: HE, row2: LP.</p>
<p>First examine row 1 vs column 2- column 2 can either start with the letter E or I, but the only option in row 1 that will fit with this requirement is “HE”. For row 2, the only letter that can be in the bottom left is L, since P, E, A, and S are not allowed by column 1. The bottom right can only contain letters from PLEASE, which means that the option EF for column 2 is not allowed. This leaves EP as the only possibility for column 2. So row 2 must be “LP”.</p>
<p>Beginner puzzle 2, Naughty: row 1: <code>.*M?O.*</code>, row2: (AN|FE|BE), column 1: <code>(A|B|C)\1</code>, column 2: (AB|OE|SK). Solution: row1: BO, row2: BE.</p>
<p>Row 1 specifies that there can be 0-1 of any character, followed by 0-1 of M, followed by O, followed by 0-1 of any character. The only stringent requirement is that there exist an O in row 1. Looking at column 1, this does not allow the letter O, so O must be in column 2 of row 1. The only option that allows this is the “OE” option in column 2. The two options for row 2 that end with letter E are “FE” or “BE”. However, column 1 dictates that the first letter of row2 must be either A, B, or C. The only option that fits this is “BB” for column 2.</p>
<p>Beginner puzzle 3, Ghost: row 1: <code>(.)+\1</code>, row2: [^ABRC]+, column 1: [COBRA]+, column 2: (AB|O|OR)+. Solution: row1: OO, row2: OO.</p>
<p>Row 1 specifies that 1 or more of any character should be repeated. Given the 2x2 box, this means a pair of letters. Column 1 gives COBRA as choices, but row2 specifies that ABRC cannot be present. This leaves us with O. Also, for column 2, the only option that is available that would not violate row2’s rules is O+.</p>
<p>Beginner puzzle 4, Symbolism: row 1: <code>[*]+</code>, row2: /+, column 1: .?.+, column 2: .+. Solution: row1: <code>**</code>, row2:<code>//</code>.</p>
<p>Row1 wants 1 or more <code>*</code>, whereas row 2 wants one or more /. Column 1 states that any character can occur 0-1 times followed by another character at least 1 or more times. Column 2 states that any character must appear 1 or more times.</p>
<p>Beginner puzzle 5, Airstrip One: row 1: 18|19|20, row2: <code>[6789]\d</code>, column 1: <code>\d[2480]</code>, column 2: 56|94|73. Solution: row1: 19, row2: 84.</p>
<p>The only choice for row1 that would satisfy the requirements for column2 is 19 (row1 ends with 9 and col 2 begins with 9). This means that column2 downwards is 94. The only choice for the bottom left that satisfies row2, and column 1 is 8. This leaves us with 19 in row1 and 84 in row2 as the answer.</p>
</div>
</div>
<div id="exercises-35" class="section level2 unnumbered">
<h2><strong>14.3.5.1</strong> Exercises</h2>
<div id="describe-in-words-what-these-expressions-will-match" class="section level3 unnumbered">
<h3>1. Describe, in words, what these expressions will match:</h3>
<ul>
<li><code>(.)\1\1</code></li>
</ul>
<p>This will match any character repeated 3 times. For example, “ooo” in the string “woohooo!”</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str_view(&quot;woohooo!&quot;, &quot;(.)\\1\\1&quot;)</span>
<span class="kw">str_extract</span>(<span class="st">&quot;woohooo!&quot;</span>, <span class="st">&quot;(.)</span><span class="ch">\\</span><span class="st">1</span><span class="ch">\\</span><span class="st">1&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;ooo&quot;</code></pre>
<ul>
<li><code>&quot;(.)(.)\\2\\1&quot;</code></li>
</ul>
<p>This will match a pair of characters followed by the reverse of the pair. For example, “elle” in “belle”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str_view(&quot;belle&quot;, &quot;(.)(.)\\2\\1&quot;)</span>
<span class="kw">str_extract</span>(<span class="st">&quot;belle&quot;</span>, <span class="st">&quot;(.)(.)</span><span class="ch">\\</span><span class="st">2</span><span class="ch">\\</span><span class="st">1&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;elle&quot;</code></pre>
<ul>
<li><code>(..)\1</code></li>
</ul>
<p>This will match any two characters repeated twice. For example, “caca” in “cacao beans”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str_view(&quot;cacao beans&quot;, &quot;(..)\\1&quot;)</span>
<span class="kw">str_extract</span>(<span class="st">&quot;cacao beans&quot;</span>, <span class="st">&quot;(..)</span><span class="ch">\\</span><span class="st">1&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;caca&quot;</code></pre>
<ul>
<li><code>&quot;(.).\\1.\\1&quot;</code></li>
</ul>
<p>This matches any character repeated every other character, such as “lulul” in “lululemon”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str_view(&quot;lululemon&quot;, &quot;(.).\\1.\\1&quot;)</span>
<span class="kw">str_extract</span>(<span class="st">&quot;lululemon&quot;</span>, <span class="st">&quot;(.).</span><span class="ch">\\</span><span class="st">1.</span><span class="ch">\\</span><span class="st">1&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;lulul&quot;</code></pre>
<ul>
<li><code>&quot;(.)(.)(.).*\\3\\2\\1&quot;</code></li>
</ul>
<p>This matches 3 characters followed by any number of characters followed by the first 3 characters in reverse, such as “but the tub” in “but the tub is full”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str_view(&quot;but the tub is full&quot;, &quot;(.)(.)(.).*\\3\\2\\1&quot;)</span>
<span class="kw">str_extract</span>(<span class="st">&quot;but the tub is full&quot;</span>, <span class="st">&quot;(.)(.)(.).*</span><span class="ch">\\</span><span class="st">3</span><span class="ch">\\</span><span class="st">2</span><span class="ch">\\</span><span class="st">1&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;but the tub&quot;</code></pre>
</div>
<div id="construct-regular-expressions-to-match-words-that" class="section level3 unnumbered">
<h3>2. Construct regular expressions to match words that:</h3>
<ul>
<li>Start and end with the same character.</li>
</ul>
<p><code>&quot;^(.).*\\1$&quot;</code> performs this function. The ^ anchor specifies that any character (.) must also be present at the end of the string using the <code>\$</code> anchor after the backreference. Below, it will match “regular” but not “expression”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str_view(c(&quot;regular&quot;,&quot;expressions&quot;, &quot;a&quot;, &quot;aa&quot;), &quot;^(.).*\\1$&quot;)</span>
<span class="kw">str_subset</span>(<span class="kw">c</span>(<span class="st">&quot;regular&quot;</span>,<span class="st">&quot;expressions&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;aa&quot;</span>), <span class="st">&quot;^(.).*</span><span class="ch">\\</span><span class="st">1$&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;regular&quot; &quot;aa&quot;</code></pre>
<ul>
<li>Contain a repeated pair of letters (e.g. “church” contains “ch” repeated twice.)</li>
</ul>
<p><code>&quot;(..).*\\1&quot;</code> will work by specifying that any two characters (..) can be separated by any amount of characters <code>.*</code> followed by the same two characters using a backreference.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str_view(c(&quot;church&quot;, &quot;no repeats&quot;, &quot;papaya&quot;), &quot;(..).*\\1&quot;)</span>
<span class="kw">str_subset</span>(<span class="kw">c</span>(<span class="st">&quot;church&quot;</span>, <span class="st">&quot;no repeats&quot;</span>, <span class="st">&quot;papaya&quot;</span>), <span class="st">&quot;(..).*</span><span class="ch">\\</span><span class="st">1&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;church&quot; &quot;papaya&quot;</code></pre>
<ul>
<li>Contain one letter repeated in at least three places (e.g. “eleven” contains three “e”s.)</li>
</ul>
<p><code>&quot;(.).*\\1.*\\1&quot;</code> would work for single word strings. If there is a sentence with multiple words, this regex would match the first occurance of 3 characters, including whitespace, even if they were in different words. If we don’t want this to happen, we would use a “anything except whitespace” instead of <code>.*</code>. This would be a regexp for that purpose: <code>&quot;([^\\s])[^\\s]*\\1[^\\s]*\\1&quot;</code>. We could also use the boundary regexp <code>\\b</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># this only works for individual words</span>
<span class="co"># str_view(c(&quot;eleven&quot;, &quot;apply&quot;, &quot;papaya&quot;, &quot;bananas&quot;, &quot;will this match spaces?&quot;,&quot;letters next&quot;), &quot;(.).*\\1.*\\1&quot;)</span>
<span class="kw">str_subset</span>(<span class="kw">c</span>(<span class="st">&quot;eleven&quot;</span>, <span class="st">&quot;apply&quot;</span>, <span class="st">&quot;papaya&quot;</span>, <span class="st">&quot;bananas&quot;</span>, <span class="st">&quot;will this match spaces?&quot;</span>,<span class="st">&quot;letters next&quot;</span>), <span class="st">&quot;(.).*</span><span class="ch">\\</span><span class="st">1.*</span><span class="ch">\\</span><span class="st">1&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;eleven&quot;                  &quot;papaya&quot;                 
## [3] &quot;bananas&quot;                 &quot;will this match spaces?&quot;
## [5] &quot;letters next&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># this will exclude whitespace and only match if a word within a sentence has a letter repeated 3 times.</span>
<span class="co"># str_view(c(&quot;eleven&quot;, &quot;apply&quot;, &quot;papaya&quot;, &quot;bananas&quot;, &quot;will this match spaces?&quot;, &quot;letters next&quot;), &quot;([^\\s])[^\\s]*\\1[^\\s]*\\1&quot;)</span>
<span class="kw">str_subset</span>(<span class="kw">c</span>(<span class="st">&quot;eleven&quot;</span>, <span class="st">&quot;apply&quot;</span>, <span class="st">&quot;papaya&quot;</span>, <span class="st">&quot;bananas&quot;</span>, <span class="st">&quot;will this match spaces?&quot;</span>, <span class="st">&quot;letters next&quot;</span>), <span class="st">&quot;([^</span><span class="ch">\\</span><span class="st">s])[^</span><span class="ch">\\</span><span class="st">s]*</span><span class="ch">\\</span><span class="st">1[^</span><span class="ch">\\</span><span class="st">s]*</span><span class="ch">\\</span><span class="st">1&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;eleven&quot;  &quot;papaya&quot;  &quot;bananas&quot;</code></pre>
</div>
</div>
<div id="exercises-36" class="section level2 unnumbered">
<h2><strong>14.4.2</strong> Exercises</h2>
<div id="for-each-of-the-following-challenges-try-solving-it-by-using-both-a-single-regular-expression-and-a-combination-of-multiple-str_detect-calls." class="section level3 unnumbered">
<h3>1. For each of the following challenges, try solving it by using both a single regular expression, and a combination of multiple str_detect() calls.</h3>
<ul>
<li>Find all words that start or end with x.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># single expression</span>
<span class="kw">str_subset</span>(words, <span class="st">&quot;^x|x$&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;box&quot; &quot;sex&quot; &quot;six&quot; &quot;tax&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># multiple str_detect() calls</span>
<span class="kw">c</span>(words[<span class="kw">str_detect</span>(words, <span class="st">&quot;^x&quot;</span>)], words[<span class="kw">str_detect</span>(words, <span class="st">&quot;x$&quot;</span>)])</code></pre></div>
<pre><code>## [1] &quot;box&quot; &quot;sex&quot; &quot;six&quot; &quot;tax&quot;</code></pre>
<ul>
<li>Find all words that start with a vowel and end with a consonant.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># single expression</span>
<span class="kw">str_subset</span>(words, <span class="st">&quot;^[aeiou].*[^aeiou]$&quot;</span>)</code></pre></div>
<pre><code>##   [1] &quot;about&quot;       &quot;accept&quot;      &quot;account&quot;     &quot;across&quot;      &quot;act&quot;        
##   [6] &quot;actual&quot;      &quot;add&quot;         &quot;address&quot;     &quot;admit&quot;       &quot;affect&quot;     
##  [11] &quot;afford&quot;      &quot;after&quot;       &quot;afternoon&quot;   &quot;again&quot;       &quot;against&quot;    
##  [16] &quot;agent&quot;       &quot;air&quot;         &quot;all&quot;         &quot;allow&quot;       &quot;almost&quot;     
##  [21] &quot;along&quot;       &quot;already&quot;     &quot;alright&quot;     &quot;although&quot;    &quot;always&quot;     
##  [26] &quot;amount&quot;      &quot;and&quot;         &quot;another&quot;     &quot;answer&quot;      &quot;any&quot;        
##  [31] &quot;apart&quot;       &quot;apparent&quot;    &quot;appear&quot;      &quot;apply&quot;       &quot;appoint&quot;    
##  [36] &quot;approach&quot;    &quot;arm&quot;         &quot;around&quot;      &quot;art&quot;         &quot;as&quot;         
##  [41] &quot;ask&quot;         &quot;at&quot;          &quot;attend&quot;      &quot;authority&quot;   &quot;away&quot;       
##  [46] &quot;awful&quot;       &quot;each&quot;        &quot;early&quot;       &quot;east&quot;        &quot;easy&quot;       
##  [51] &quot;eat&quot;         &quot;economy&quot;     &quot;effect&quot;      &quot;egg&quot;         &quot;eight&quot;      
##  [56] &quot;either&quot;      &quot;elect&quot;       &quot;electric&quot;    &quot;eleven&quot;      &quot;employ&quot;     
##  [61] &quot;end&quot;         &quot;english&quot;     &quot;enjoy&quot;       &quot;enough&quot;      &quot;enter&quot;      
##  [66] &quot;environment&quot; &quot;equal&quot;       &quot;especial&quot;    &quot;even&quot;        &quot;evening&quot;    
##  [71] &quot;ever&quot;        &quot;every&quot;       &quot;exact&quot;       &quot;except&quot;      &quot;exist&quot;      
##  [76] &quot;expect&quot;      &quot;explain&quot;     &quot;express&quot;     &quot;identify&quot;    &quot;if&quot;         
##  [81] &quot;important&quot;   &quot;in&quot;          &quot;indeed&quot;      &quot;individual&quot;  &quot;industry&quot;   
##  [86] &quot;inform&quot;      &quot;instead&quot;     &quot;interest&quot;    &quot;invest&quot;      &quot;it&quot;         
##  [91] &quot;item&quot;        &quot;obvious&quot;     &quot;occasion&quot;    &quot;odd&quot;         &quot;of&quot;         
##  [96] &quot;off&quot;         &quot;offer&quot;       &quot;often&quot;       &quot;okay&quot;        &quot;old&quot;        
## [101] &quot;on&quot;          &quot;only&quot;        &quot;open&quot;        &quot;opportunity&quot; &quot;or&quot;         
## [106] &quot;order&quot;       &quot;original&quot;    &quot;other&quot;       &quot;ought&quot;       &quot;out&quot;        
## [111] &quot;over&quot;        &quot;own&quot;         &quot;under&quot;       &quot;understand&quot;  &quot;union&quot;      
## [116] &quot;unit&quot;        &quot;university&quot;  &quot;unless&quot;      &quot;until&quot;       &quot;up&quot;         
## [121] &quot;upon&quot;        &quot;usual&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># multiple str_detect() calls</span>
words [ <span class="kw">str_detect</span>(words, <span class="st">&quot;^[aeiou]&quot;</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">&quot;[^aeiou]$&quot;</span>)]</code></pre></div>
<pre><code>##   [1] &quot;about&quot;       &quot;accept&quot;      &quot;account&quot;     &quot;across&quot;      &quot;act&quot;        
##   [6] &quot;actual&quot;      &quot;add&quot;         &quot;address&quot;     &quot;admit&quot;       &quot;affect&quot;     
##  [11] &quot;afford&quot;      &quot;after&quot;       &quot;afternoon&quot;   &quot;again&quot;       &quot;against&quot;    
##  [16] &quot;agent&quot;       &quot;air&quot;         &quot;all&quot;         &quot;allow&quot;       &quot;almost&quot;     
##  [21] &quot;along&quot;       &quot;already&quot;     &quot;alright&quot;     &quot;although&quot;    &quot;always&quot;     
##  [26] &quot;amount&quot;      &quot;and&quot;         &quot;another&quot;     &quot;answer&quot;      &quot;any&quot;        
##  [31] &quot;apart&quot;       &quot;apparent&quot;    &quot;appear&quot;      &quot;apply&quot;       &quot;appoint&quot;    
##  [36] &quot;approach&quot;    &quot;arm&quot;         &quot;around&quot;      &quot;art&quot;         &quot;as&quot;         
##  [41] &quot;ask&quot;         &quot;at&quot;          &quot;attend&quot;      &quot;authority&quot;   &quot;away&quot;       
##  [46] &quot;awful&quot;       &quot;each&quot;        &quot;early&quot;       &quot;east&quot;        &quot;easy&quot;       
##  [51] &quot;eat&quot;         &quot;economy&quot;     &quot;effect&quot;      &quot;egg&quot;         &quot;eight&quot;      
##  [56] &quot;either&quot;      &quot;elect&quot;       &quot;electric&quot;    &quot;eleven&quot;      &quot;employ&quot;     
##  [61] &quot;end&quot;         &quot;english&quot;     &quot;enjoy&quot;       &quot;enough&quot;      &quot;enter&quot;      
##  [66] &quot;environment&quot; &quot;equal&quot;       &quot;especial&quot;    &quot;even&quot;        &quot;evening&quot;    
##  [71] &quot;ever&quot;        &quot;every&quot;       &quot;exact&quot;       &quot;except&quot;      &quot;exist&quot;      
##  [76] &quot;expect&quot;      &quot;explain&quot;     &quot;express&quot;     &quot;identify&quot;    &quot;if&quot;         
##  [81] &quot;important&quot;   &quot;in&quot;          &quot;indeed&quot;      &quot;individual&quot;  &quot;industry&quot;   
##  [86] &quot;inform&quot;      &quot;instead&quot;     &quot;interest&quot;    &quot;invest&quot;      &quot;it&quot;         
##  [91] &quot;item&quot;        &quot;obvious&quot;     &quot;occasion&quot;    &quot;odd&quot;         &quot;of&quot;         
##  [96] &quot;off&quot;         &quot;offer&quot;       &quot;often&quot;       &quot;okay&quot;        &quot;old&quot;        
## [101] &quot;on&quot;          &quot;only&quot;        &quot;open&quot;        &quot;opportunity&quot; &quot;or&quot;         
## [106] &quot;order&quot;       &quot;original&quot;    &quot;other&quot;       &quot;ought&quot;       &quot;out&quot;        
## [111] &quot;over&quot;        &quot;own&quot;         &quot;under&quot;       &quot;understand&quot;  &quot;union&quot;      
## [116] &quot;unit&quot;        &quot;university&quot;  &quot;unless&quot;      &quot;until&quot;       &quot;up&quot;         
## [121] &quot;upon&quot;        &quot;usual&quot;</code></pre>
<ul>
<li>Are there any words that contain at least one of each different vowel?</li>
</ul>
<p>To determine whether there are any words that contain at least one of each vowel, we can look for words that have just one of each vowel to make things simpler (any words with more than one of any vowell will still be matched). This is much easier done using multiple str_detect() calls, beacuse we do not care where the vowels show up within the word. “a” can be before “i”, or after “i”, or between “o” and “u”, which makes things complicated if we want to use a single regular expression. We would have to type out all the permutations and chain them using <code>.*</code> and OR (|). This would be a huge expression! Below is the simpler way of chaining multiple str_detect() calls. No words have at least one of each vowell, but some have a,e i, and o (no u).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># multiple str_detect() calls</span>
words[<span class="kw">str_detect</span>(words, <span class="st">&quot;a&quot;</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">&quot;e&quot;</span>) <span class="op">&amp;</span><span class="st">  </span><span class="kw">str_detect</span>(words, <span class="st">&quot;i&quot;</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">&quot;o&quot;</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">str_detect</span> (words, <span class="st">&quot;u&quot;</span>)]</code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># words with a, e, i, and o (no u)</span>
words[<span class="kw">str_detect</span>(words, <span class="st">&quot;a&quot;</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">&quot;e&quot;</span>) <span class="op">&amp;</span><span class="st">  </span><span class="kw">str_detect</span>(words, <span class="st">&quot;i&quot;</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">&quot;o&quot;</span>) ]</code></pre></div>
<pre><code>## [1] &quot;appropriate&quot; &quot;associate&quot;   &quot;organize&quot;    &quot;relation&quot;</code></pre>
</div>
<div id="what-word-has-the-highest-number-of-vowels-what-word-has-the-highest-proportion-of-vowels-hint-what-is-the-denominator" class="section level3 unnumbered">
<h3>2. What word has the highest number of vowels? What word has the highest proportion of vowels? (Hint: what is the denominator?)</h3>
<p>To figure this out, we need a way to count the number of vowels in each word in <code>words</code>, which we can do with str_count() and the regexp <code>[aeiou]</code>. This will let us know the number of vowels in each word, but we also want to keep the information about what the original word was. This means we should perform str_count() on a data frame that contains the original words as well as their index. The book provides this as a tibble. We can perform a mutate() using str_count() and also get the length of each word using str_length(), then calculate the proportion by dividing the two metrics. Then we can use arrange() to find the words with the highest vowel count and vowel proportion. The highest vowel count is 5, which includes appropriate, associate, available, colleague, encourage, experience, individual, and television. The highest vowel proportion is the word “a”, which has a proportion of 1 (it itself is a vowel). Non-1 letter words with the highest vowel proportion include area and idea, at 0.75.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create indexed words tibble</span>
df &lt;-<span class="st"> </span><span class="kw">tibble</span>(
  <span class="dt">word =</span> words, 
  <span class="dt">i =</span> <span class="kw">seq_along</span>(word)
)
<span class="co"># calculate number of vowels and proportion of vowels by word</span>
vowels &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span> ( <span class="dt">num_vowels =</span> <span class="kw">str_count</span>(words, <span class="st">&quot;[aeiou]&quot;</span>),
           <span class="dt">length_word =</span> <span class="kw">str_length</span>(words),
           <span class="dt">proportion_vowel =</span> num_vowels<span class="op">/</span>length_word)
<span class="co"># sort by words with highest number or proportion of vowels</span>
vowels <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span> (<span class="kw">desc</span>(num_vowels))</code></pre></div>
<pre><code>## # A tibble: 980 x 5
##    word            i num_vowels length_word proportion_vowel
##    &lt;chr&gt;       &lt;int&gt;      &lt;int&gt;       &lt;int&gt;            &lt;dbl&gt;
##  1 appropriate    48          5          11            0.455
##  2 associate      57          5           9            0.556
##  3 available      62          5           9            0.556
##  4 colleague     166          5           9            0.556
##  5 encourage     268          5           9            0.556
##  6 experience    292          5          10            0.5  
##  7 individual    423          5          10            0.5  
##  8 television    846          5          10            0.5  
##  9 absolute        4          4           8            0.5  
## 10 achieve         7          4           7            0.571
## # … with 970 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vowels <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span> (<span class="kw">desc</span>(proportion_vowel))</code></pre></div>
<pre><code>## # A tibble: 980 x 5
##    word       i num_vowels length_word proportion_vowel
##    &lt;chr&gt;  &lt;int&gt;      &lt;int&gt;       &lt;int&gt;            &lt;dbl&gt;
##  1 a          1          1           1            1    
##  2 area      49          3           4            0.75 
##  3 idea     412          3           4            0.75 
##  4 age       22          2           3            0.667
##  5 ago       24          2           3            0.667
##  6 air       26          2           3            0.667
##  7 die      228          2           3            0.667
##  8 due      250          2           3            0.667
##  9 eat      256          2           3            0.667
## 10 europe   278          4           6            0.667
## # … with 970 more rows</code></pre>
</div>
</div>
<div id="exercises-37" class="section level2 unnumbered">
<h2><strong>14.4.3.1</strong> Exercises</h2>
<div id="in-the-previous-example-you-might-have-noticed-that-the-regular-expression-matched-flickered-which-is-not-a-colour.-modify-the-regex-to-fix-the-problem." class="section level3 unnumbered">
<h3>1. In the previous example, you might have noticed that the regular expression matched “flickered”, which is not a colour. Modify the regex to fix the problem.</h3>
<p>We can modify the regex to detect only legitimate colors by adding a whitespace character on both sides of the name of each color. This will match sentences where a colour is only one word. However, dual-colors like “orangered” or “orange-red” will not be matched unless explicitly stated in the colours vector. To do this, we could change the whitespace to a boundary regex <code>&quot;\\b&quot;</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">colours &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;purple&quot;</span>)
colours_fixed &lt;-<span class="st"> </span><span class="kw">str_c</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">s&quot;</span>, colours, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">s&quot;</span>)
colours_fixed</code></pre></div>
<pre><code>## [1] &quot;\\sred\\s&quot;    &quot;\\sorange\\s&quot; &quot;\\syellow\\s&quot; &quot;\\sgreen\\s&quot; 
## [5] &quot;\\sblue\\s&quot;   &quot;\\spurple\\s&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">colour_match &lt;-<span class="st"> </span><span class="kw">str_c</span>(colours_fixed, <span class="dt">collapse =</span> <span class="st">&quot;|&quot;</span>)
has_colour &lt;-<span class="st"> </span><span class="kw">str_subset</span>(sentences, colour_match)
has_colour</code></pre></div>
<pre><code>##  [1] &quot;Glue the sheet to the dark blue background.&quot;     
##  [2] &quot;Two blue fish swam in the tank.&quot;                 
##  [3] &quot;A wisp of cloud hung in the blue air.&quot;           
##  [4] &quot;Leaves turn brown and yellow in the fall.&quot;       
##  [5] &quot;The spot on the blotter was made by green ink.&quot;  
##  [6] &quot;The sofa cushion is red and of light weight.&quot;    
##  [7] &quot;A blue crane is a tall wading bird.&quot;             
##  [8] &quot;It is hard to erase blue or red ink.&quot;            
##  [9] &quot;The lamp shone with a steady green flame.&quot;       
## [10] &quot;The box is held by a bright red snapper.&quot;        
## [11] &quot;The houses are built of red clay bricks.&quot;        
## [12] &quot;The red tape bound the smuggled food.&quot;           
## [13] &quot;The plant grew large and green in the window.&quot;   
## [14] &quot;The purple tie was ten years old.&quot;               
## [15] &quot;Bathe and relax in the cool green grass.&quot;        
## [16] &quot;The lake sparkled in the red hot sun.&quot;           
## [17] &quot;A man in a blue sweater sat at the desk.&quot;        
## [18] &quot;The small red neon lamp went out.&quot;               
## [19] &quot;Wake and rise, and step into the green outdoors.&quot;
## [20] &quot;The green light in the brown box flickered.&quot;     
## [21] &quot;Tear a thin sheet from the yellow pad.&quot;          
## [22] &quot;The sky in the west is tinged with orange red.&quot;  
## [23] &quot;The red paper brightened the dim stage.&quot;         
## [24] &quot;The big red apple fell to the ground.&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">more &lt;-<span class="st"> </span>sentences[<span class="kw">str_count</span>(sentences, colour_match) <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>]
<span class="co"># str_view_all(more, colour_match)</span>
<span class="kw">str_extract_all</span> (more, colour_match)</code></pre></div>
<pre><code>## [[1]]
## [1] &quot; blue &quot; &quot; red &quot;</code></pre>
</div>
<div id="from-the-harvard-sentences-data-extract" class="section level3 unnumbered">
<h3>2. From the Harvard sentences data, extract:</h3>
<ul>
<li>The first word from each sentence.</li>
</ul>
<p>To do this, use the ^ anchor and look for all characters that lie before the first whitespace.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">first_words &lt;-<span class="st"> </span><span class="kw">str_extract</span>(sentences, <span class="st">&quot;^.+?</span><span class="ch">\\</span><span class="st">s&quot;</span>)
<span class="kw">head</span>(first_words,<span class="dv">20</span>)</code></pre></div>
<pre><code>##  [1] &quot;The &quot;   &quot;Glue &quot;  &quot;It&#39;s &quot;  &quot;These &quot; &quot;Rice &quot;  &quot;The &quot;   &quot;The &quot;  
##  [8] &quot;The &quot;   &quot;Four &quot;  &quot;Large &quot; &quot;The &quot;   &quot;A &quot;     &quot;The &quot;   &quot;Kick &quot; 
## [15] &quot;Help &quot;  &quot;A &quot;     &quot;Smoky &quot; &quot;The &quot;   &quot;The &quot;   &quot;The &quot;</code></pre>
<ul>
<li>All words ending in ing.</li>
</ul>
<p>To do this, first find the subset of sentences that have “ing” before a boundary character. Then, within these sentences, extract the word containing “ing” before the boundary character.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">with_ing &lt;-<span class="st"> </span><span class="kw">str_subset</span>(sentences, <span class="st">&quot;ing</span><span class="ch">\\</span><span class="st">b&quot;</span>)
<span class="kw">head</span>(with_ing)</code></pre></div>
<pre><code>## [1] &quot;The source of the huge river is the clear spring.&quot;
## [2] &quot;A pot of tea helps to pass the evening.&quot;          
## [3] &quot;It snowed, rained, and hailed the same morning.&quot;  
## [4] &quot;Take the winding path to reach the lake.&quot;         
## [5] &quot;What joy there is in living.&quot;                     
## [6] &quot;A king ruled the state in the early days.&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">words_ing &lt;-<span class="st"> </span><span class="kw">str_extract</span>(with_ing, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">b</span><span class="ch">\\</span><span class="st">w+ing</span><span class="ch">\\</span><span class="st">b&quot;</span>)
words_ing</code></pre></div>
<pre><code>##  [1] &quot;spring&quot;    &quot;evening&quot;   &quot;morning&quot;   &quot;winding&quot;   &quot;living&quot;   
##  [6] &quot;king&quot;      &quot;Adding&quot;    &quot;making&quot;    &quot;raging&quot;    &quot;playing&quot;  
## [11] &quot;sleeping&quot;  &quot;ring&quot;      &quot;glaring&quot;   &quot;sinking&quot;   &quot;dying&quot;    
## [16] &quot;Bring&quot;     &quot;lodging&quot;   &quot;filing&quot;    &quot;making&quot;    &quot;morning&quot;  
## [21] &quot;wearing&quot;   &quot;Bring&quot;     &quot;wading&quot;    &quot;swing&quot;     &quot;nothing&quot;  
## [26] &quot;ring&quot;      &quot;morning&quot;   &quot;sing&quot;      &quot;sleeping&quot;  &quot;painting&quot; 
## [31] &quot;king&quot;      &quot;walking&quot;   &quot;bring&quot;     &quot;bring&quot;     &quot;shipping&quot; 
## [36] &quot;spring&quot;    &quot;ring&quot;      &quot;winding&quot;   &quot;puzzling&quot;  &quot;spring&quot;   
## [41] &quot;landing&quot;   &quot;thing&quot;     &quot;waiting&quot;   &quot;whistling&quot; &quot;nothing&quot;  
## [46] &quot;timing&quot;    &quot;thing&quot;     &quot;spring&quot;    &quot;changing&quot;  &quot;drenching&quot;
## [51] &quot;moving&quot;    &quot;working&quot;   &quot;ring&quot;</code></pre>
<ul>
<li>All plurals.</li>
</ul>
<p>Below is a way to find all words that end in “s”, which should capture plurals that end in “s”, as well as other non-plural words that also end in “s”, such as “press”. To decipher which of these are plurals of singular words, we could subtract the “s” from the words and see if the resulting word matches a dictionary of specified singular words, which we don’t have here. To decipher which words are plurals using only a regex doesn’t seem straightforward and would require something very convoluted.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">with_plural &lt;-<span class="st"> </span><span class="kw">str_subset</span>(sentences, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">b</span><span class="ch">\\</span><span class="st">w+s</span><span class="ch">\\</span><span class="st">s&quot;</span>)
<span class="kw">head</span>(with_plural)</code></pre></div>
<pre><code>## [1] &quot;These days a chicken leg is a rare dish.&quot;   
## [2] &quot;Rice is often served in round bowls.&quot;       
## [3] &quot;The juice of lemons makes fine punch.&quot;      
## [4] &quot;The box was thrown beside the parked truck.&quot;
## [5] &quot;The hogs were fed chopped corn and garbage.&quot;
## [6] &quot;Four hours of steady work faced us.&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">words_plural &lt;-<span class="st"> </span><span class="kw">str_extract</span>(with_plural, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">b</span><span class="ch">\\</span><span class="st">w+s</span><span class="ch">\\</span><span class="st">s&quot;</span>)
<span class="kw">head</span>(words_plural)</code></pre></div>
<pre><code>## [1] &quot;days &quot;   &quot;is &quot;     &quot;lemons &quot; &quot;was &quot;    &quot;hogs &quot;   &quot;hours &quot;</code></pre>
</div>
</div>
<div id="exercises-38" class="section level2 unnumbered">
<h2><strong>14.4.4.1</strong> Exercises</h2>
<div id="find-all-words-that-come-after-a-number-like-one-two-three-etc.-pull-out-both-the-number-and-the-word." class="section level3 unnumbered">
<h3>1. Find all words that come after a “number” like “one”, “two”, “three” etc. Pull out both the number and the word.</h3>
<p>I modeled the answers after the example provided in the book, and modified the code to work with the new regex. The regex I made has numbers one - ten, then followed by a suffix “teen” for cases such as “fourteen” or “ty” for cases such as “sixty”. There are some other cases that I added in that do not follow this convention such as “twenty” or “thirteen”. This should be followed by a whitespace then 1 or more non-whitespace character. We can then extract the results using a combination of str_subset() and str_extract(). Str_match() or tidyr::extract() can pull out both the number and the words that are encased in the parentheses.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># regex to detect numbers with words after them</span>
afternumber &lt;-<span class="st"> &quot;</span><span class="ch">\\</span><span class="st">b((one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve|thirteen|fifteen|eighteen|twenty|thirty|fifty|eighty)(ty|teen)?) ([^ ]+)&quot;</span>

<span class="co"># find all sentences that have a match with the regex</span>
has_number &lt;-<span class="st"> </span>sentences <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">str_subset</span>(afternumber) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">head</span>(<span class="dv">10</span>)

<span class="co"># display what the match for each sentence was</span>
has_number <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">str_extract</span>(afternumber)</code></pre></div>
<pre><code>##  [1] &quot;fifty bonds.&quot;   &quot;seven books&quot;    &quot;two met&quot;        &quot;sixteen weeks.&quot;
##  [5] &quot;two factors&quot;    &quot;three lists&quot;    &quot;thirty times.&quot;  &quot;seven is&quot;      
##  [9] &quot;two when&quot;       &quot;ten inches.&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># display the separate parts of each match.</span>
has_number <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">str_match</span>(afternumber)</code></pre></div>
<pre><code>##       [,1]             [,2]      [,3]     [,4]   [,5]     
##  [1,] &quot;fifty bonds.&quot;   &quot;fifty&quot;   &quot;fifty&quot;  NA     &quot;bonds.&quot; 
##  [2,] &quot;seven books&quot;    &quot;seven&quot;   &quot;seven&quot;  NA     &quot;books&quot;  
##  [3,] &quot;two met&quot;        &quot;two&quot;     &quot;two&quot;    NA     &quot;met&quot;    
##  [4,] &quot;sixteen weeks.&quot; &quot;sixteen&quot; &quot;six&quot;    &quot;teen&quot; &quot;weeks.&quot; 
##  [5,] &quot;two factors&quot;    &quot;two&quot;     &quot;two&quot;    NA     &quot;factors&quot;
##  [6,] &quot;three lists&quot;    &quot;three&quot;   &quot;three&quot;  NA     &quot;lists&quot;  
##  [7,] &quot;thirty times.&quot;  &quot;thirty&quot;  &quot;thirty&quot; NA     &quot;times.&quot; 
##  [8,] &quot;seven is&quot;       &quot;seven&quot;   &quot;seven&quot;  NA     &quot;is&quot;     
##  [9,] &quot;two when&quot;       &quot;two&quot;     &quot;two&quot;    NA     &quot;when&quot;   
## [10,] &quot;ten inches.&quot;    &quot;ten&quot;     &quot;ten&quot;    NA     &quot;inches.&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># use tidyr::extract() to extract matches for each part of the regex and display output in a neat table</span>
<span class="kw">tibble</span>(<span class="dt">sentence =</span> sentences) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>tidyr<span class="op">::</span><span class="kw">extract</span>(
    sentence, <span class="kw">c</span>(<span class="st">&quot;complete_number&quot;</span>, <span class="st">&quot;number&quot;</span>,<span class="st">&quot;teen_or_ty&quot;</span>, <span class="st">&quot;word&quot;</span>), afternumber, 
    <span class="dt">remove =</span> <span class="ot">FALSE</span>
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(sentence, complete_number, word) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">na.omit</span>()</code></pre></div>
<pre><code>## # A tibble: 26 x 3
##    sentence                                    complete_number word   
##    &lt;chr&gt;                                       &lt;chr&gt;           &lt;chr&gt;  
##  1 The girl at the booth sold fifty bonds.     fifty           bonds. 
##  2 The rope will bind the seven books at once. seven           books  
##  3 The two met while playing on the sand.      two             met    
##  4 The lease ran out in sixteen weeks.         sixteen         weeks. 
##  5 There are more than two factors here.       two             factors
##  6 Type out three lists of orders.             three           lists  
##  7 He said the same phrase thirty times.       thirty          times. 
##  8 Two plus seven is less than ten.            seven           is     
##  9 Drop the two when you add the figures.      two             when   
## 10 There the flood mark is ten inches.         ten             inches.
## # … with 16 more rows</code></pre>
</div>
<div id="find-all-contractions.-separate-out-the-pieces-before-and-after-the-apostrophe." class="section level3 unnumbered">
<h3>2. Find all contractions. Separate out the pieces before and after the apostrophe.</h3>
<p>To find contractions, we can search for a sequence of letters using <code>\w</code>, followed by a contraction with either “’ or -”, and then another sequence of words after that, followed by a boundary. Using this regex we can then use str_subset(), str_extract(), str_match(), and tidyr::extract() to obtain the pieces before and after the apostrophe. If we don’t care about hyphens, we can remove it from the regex.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">contractions &lt;-<span class="st"> &quot;</span><span class="ch">\\</span><span class="st">b(</span><span class="ch">\\</span><span class="st">w+)(&#39;|-)(</span><span class="ch">\\</span><span class="st">w+)</span><span class="ch">\\</span><span class="st">b&quot;</span>
has_contraction &lt;-<span class="st"> </span>sentences <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">str_subset</span>(contractions) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">head</span>(<span class="dv">10</span>)
has_contraction <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">str_extract</span>(contractions)</code></pre></div>
<pre><code>##  [1] &quot;It&#39;s&quot;         &quot;man&#39;s&quot;        &quot;don&#39;t&quot;        &quot;store&#39;s&quot;     
##  [5] &quot;apple-shaped&quot; &quot;hot-cross&quot;    &quot;workmen&#39;s&quot;    &quot;Let&#39;s&quot;       
##  [9] &quot;sun&#39;s&quot;        &quot;child&#39;s&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">has_contraction <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">str_match</span>(contractions)</code></pre></div>
<pre><code>##       [,1]           [,2]      [,3] [,4]    
##  [1,] &quot;It&#39;s&quot;         &quot;It&quot;      &quot;&#39;&quot;  &quot;s&quot;     
##  [2,] &quot;man&#39;s&quot;        &quot;man&quot;     &quot;&#39;&quot;  &quot;s&quot;     
##  [3,] &quot;don&#39;t&quot;        &quot;don&quot;     &quot;&#39;&quot;  &quot;t&quot;     
##  [4,] &quot;store&#39;s&quot;      &quot;store&quot;   &quot;&#39;&quot;  &quot;s&quot;     
##  [5,] &quot;apple-shaped&quot; &quot;apple&quot;   &quot;-&quot;  &quot;shaped&quot;
##  [6,] &quot;hot-cross&quot;    &quot;hot&quot;     &quot;-&quot;  &quot;cross&quot; 
##  [7,] &quot;workmen&#39;s&quot;    &quot;workmen&quot; &quot;&#39;&quot;  &quot;s&quot;     
##  [8,] &quot;Let&#39;s&quot;        &quot;Let&quot;     &quot;&#39;&quot;  &quot;s&quot;     
##  [9,] &quot;sun&#39;s&quot;        &quot;sun&quot;     &quot;&#39;&quot;  &quot;s&quot;     
## [10,] &quot;child&#39;s&quot;      &quot;child&quot;   &quot;&#39;&quot;  &quot;s&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tibble</span>(<span class="dt">sentence =</span> sentences) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>tidyr<span class="op">::</span><span class="kw">extract</span>(
    sentence, <span class="kw">c</span>(<span class="st">&quot;before_contraction&quot;</span>, <span class="st">&quot;contraction&quot;</span>,<span class="st">&quot;after_contraction&quot;</span>), contractions, 
    <span class="dt">remove =</span> <span class="ot">FALSE</span>
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span> (
    <span class="dt">complete =</span> <span class="kw">str_extract</span> (sentence, contractions)
  )<span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">na.omit</span>()</code></pre></div>
<pre><code>## # A tibble: 17 x 5
##    sentence         before_contracti… contraction after_contracti… complete
##    &lt;chr&gt;            &lt;chr&gt;             &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;   
##  1 It&#39;s easy to te… It                &#39;           s                It&#39;s    
##  2 The soft cushio… man               &#39;           s                man&#39;s   
##  3 Open the crate … don               &#39;           t                don&#39;t   
##  4 Add the store&#39;s… store             &#39;           s                store&#39;s 
##  5 The fruit of a … apple             -           shaped           apple-s…
##  6 A zestful food … hot               -           cross            hot-cro…
##  7 The beam droppe… workmen           &#39;           s                workmen…
##  8 Let&#39;s all join … Let               &#39;           s                Let&#39;s   
##  9 The copper bowl… sun               &#39;           s                sun&#39;s   
## 10 A child&#39;s wit s… child             &#39;           s                child&#39;s 
## 11 A ripe plum is … king              &#39;           s                king&#39;s  
## 12 It&#39;s a dense cr… It                &#39;           s                It&#39;s    
## 13 We don&#39;t get mu… don               &#39;           t                don&#39;t   
## 14 Ripe pears are … queen             &#39;           s                queen&#39;s 
## 15 We don&#39;t like t… don               &#39;           t                don&#39;t   
## 16 Dig deep in the… pirate            &#39;           s                pirate&#39;s
## 17 She saw a cat i… neighbor          &#39;           s                neighbo…</code></pre>
</div>
</div>
<div id="exercises-39" class="section level2 unnumbered">
<h2><strong>14.4.5.1</strong> Exercises</h2>
<div id="replace-all-forward-slashes-in-a-string-with-backslashes." class="section level3 unnumbered">
<h3>1. Replace all forward slashes in a string with backslashes.</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sample &lt;-<span class="st"> &quot;this/has/too/many/slashes/!&quot;</span>
sample</code></pre></div>
<pre><code>## [1] &quot;this/has/too/many/slashes/!&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_replace_all</span> (sample, <span class="st">&quot;/&quot;</span>, <span class="st">&quot;</span><span class="ch">\\\\</span><span class="st">&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;this\\has\\too\\many\\slashes\\!&quot;</code></pre>
</div>
<div id="implement-a-simple-version-of-str_to_lower-using-replace_all." class="section level3 unnumbered">
<h3>2. Implement a simple version of str_to_lower() using replace_all().</h3>
<p>It looks like stringr doesn’t have a “to lowercase” regex such as <code>\\L</code> in perl, which can convert a backreference to lower case (<code>\\U</code> will convert it to uppercase). This makes us write bulky and inefficient code, having to specify “A = a”, “B = b”, etc. Instead of using str_replace_all(), we can use the baseR gsub(), and group all caps ([A-Z]) in parentheses, and then use <code>&quot;\\L\\1&quot;</code> to turn every instance of a capital to lowercase.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sample &lt;-<span class="st"> &quot;The CaPS iS gOiNg CrAZy!&quot;</span>

<span class="co"># gsub does this more efficiently!</span>
<span class="kw">gsub</span> (<span class="st">&quot;([A-Z])&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">L</span><span class="ch">\\</span><span class="st">1&quot;</span>, <span class="dt">perl=</span><span class="ot">TRUE</span>, sample)</code></pre></div>
<pre><code>## [1] &quot;the caps is going crazy!&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># this doesn&#39;t work in stringr!!</span>
<span class="kw">str_replace_all</span> ( sample, <span class="st">&quot;([A-Z])&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">L</span><span class="ch">\\</span><span class="st">1&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;LThe LCaLPLS iLS gLOiLNg LCrLALZy!&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># if we must use stringr, we have to painfully write out all the replacements...</span>
<span class="kw">str_replace_all</span> (sample, <span class="kw">c</span>(<span class="st">&quot;A&quot;</span> =<span class="st">&quot;a&quot;</span>, <span class="st">&quot;C&quot;</span> =<span class="st"> &quot;c&quot;</span>, <span class="st">&quot;T&quot;</span> =<span class="st"> &quot;t&quot;</span>, <span class="st">&quot;P&quot;</span> =<span class="st"> &quot;p&quot;</span>, <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;s&quot;</span>, <span class="st">&quot;O&quot;</span> =<span class="st"> &quot;o&quot;</span>, <span class="st">&quot;N&quot;</span> =<span class="st"> &quot;n&quot;</span>, <span class="st">&quot;Z&quot;</span> =<span class="st"> &quot;z&quot;</span>))</code></pre></div>
<pre><code>## [1] &quot;the caps is going crazy!&quot;</code></pre>
</div>
<div id="switch-the-first-and-last-letters-in-words.-which-of-those-strings-are-still-words" class="section level3 unnumbered">
<h3>3. Switch the first and last letters in words. Which of those strings are still words?</h3>
<p>To swich the first and last letters, we can use paretheses along with anchor ^ and <code>$</code>, and then swap the backreferences. Then, we can use the function intersect() to determine which of these swapped words are still present in the original words dataset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># swap the first and last letters in the words dataset</span>
swapped &lt;-<span class="st"> </span><span class="kw">str_replace</span> (words, <span class="st">&quot;^(.)(.*)(.)$&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">3</span><span class="ch">\\</span><span class="st">2</span><span class="ch">\\</span><span class="st">1&quot;</span>)
<span class="kw">head</span>(swapped, <span class="dv">10</span>)</code></pre></div>
<pre><code>##  [1] &quot;a&quot;        &quot;ebla&quot;     &quot;tboua&quot;    &quot;ebsoluta&quot; &quot;tccepa&quot;   &quot;tccouna&quot; 
##  [7] &quot;echieva&quot;  &quot;scrosa&quot;   &quot;tca&quot;      &quot;ectiva&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># find out which words in the swapped list still match words in the original words dataset</span>
<span class="kw">intersect</span>(words, swapped)</code></pre></div>
<pre><code>##  [1] &quot;a&quot;          &quot;america&quot;    &quot;area&quot;       &quot;dad&quot;        &quot;dead&quot;      
##  [6] &quot;deal&quot;       &quot;dear&quot;       &quot;depend&quot;     &quot;dog&quot;        &quot;educate&quot;   
## [11] &quot;else&quot;       &quot;encourage&quot;  &quot;engine&quot;     &quot;europe&quot;     &quot;evidence&quot;  
## [16] &quot;example&quot;    &quot;excuse&quot;     &quot;exercise&quot;   &quot;expense&quot;    &quot;experience&quot;
## [21] &quot;eye&quot;        &quot;god&quot;        &quot;health&quot;     &quot;high&quot;       &quot;knock&quot;     
## [26] &quot;lead&quot;       &quot;level&quot;      &quot;local&quot;      &quot;nation&quot;     &quot;no&quot;        
## [31] &quot;non&quot;        &quot;on&quot;         &quot;rather&quot;     &quot;read&quot;       &quot;refer&quot;     
## [36] &quot;remember&quot;   &quot;serious&quot;    &quot;stairs&quot;     &quot;test&quot;       &quot;tonight&quot;   
## [41] &quot;transport&quot;  &quot;treat&quot;      &quot;trust&quot;      &quot;window&quot;     &quot;yesterday&quot;</code></pre>
</div>
</div>
<div id="exercises-40" class="section level2 unnumbered">
<h2><strong>14.4.6.1</strong> Exercises</h2>
<div id="split-up-a-string-like-apples-pears-and-bananas-into-individual-components." class="section level3 unnumbered">
<h3>1. Split up a string like “apples, pears, and bananas” into individual components.</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sample &lt;-<span class="st"> &quot;apples, pears, and bananas&quot;</span>
<span class="co"># use &quot;, &quot; to split the string</span>
<span class="kw">str_split</span>(sample, <span class="st">&quot; &quot;</span>)[[<span class="dv">1</span>]]</code></pre></div>
<pre><code>## [1] &quot;apples,&quot; &quot;pears,&quot;  &quot;and&quot;     &quot;bananas&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># use boundary() to split the string</span>
<span class="kw">str_split</span>(sample, <span class="kw">boundary</span>(<span class="st">&quot;word&quot;</span>))[[<span class="dv">1</span>]]</code></pre></div>
<pre><code>## [1] &quot;apples&quot;  &quot;pears&quot;   &quot;and&quot;     &quot;bananas&quot;</code></pre>
</div>
<div id="why-is-it-better-to-split-up-by-boundaryword-than--" class="section level3">
<h3><span class="header-section-number">0.0.2</span> 2. Why is it better to split up by boundary(“word”) than &quot; “? {-}</h3>
<p>It is better to split up by boundary(“word”) than by &quot; &quot; because splitting by &quot; &quot; will cause some words to include puncutation marks, such as commmas or periods. boundary(“word”) takes these into consideration when splitting, and will not include them in the output. See the comparison provided in my answer to the previous exercise, which uses both ways to split the string.</p>
</div>
<div id="what-does-splitting-with-an-empty-string-do-experiment-and-then-read-the-documentation." class="section level3 unnumbered">
<h3>3. What does splitting with an empty string (“”) do? Experiment, and then read the documentation.</h3>
<p>Splitting with an empty string (“”) will split the string into each individual character. The empty string can be thought of as the “space” between each individual character in the string. The documentation states that “an empty pattern,”“, is equivalent to boundary(”character“)”. Below I compare the two methods, which indeed provide the same output.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sample &lt;-<span class="st"> &quot;apples, pears, and bananas&quot;</span>
<span class="co"># use &quot;, &quot; to split the string</span>
<span class="kw">str_split</span>(sample, <span class="st">&quot;&quot;</span>)[[<span class="dv">1</span>]]</code></pre></div>
<pre><code>##  [1] &quot;a&quot; &quot;p&quot; &quot;p&quot; &quot;l&quot; &quot;e&quot; &quot;s&quot; &quot;,&quot; &quot; &quot; &quot;p&quot; &quot;e&quot; &quot;a&quot; &quot;r&quot; &quot;s&quot; &quot;,&quot; &quot; &quot; &quot;a&quot; &quot;n&quot;
## [18] &quot;d&quot; &quot; &quot; &quot;b&quot; &quot;a&quot; &quot;n&quot; &quot;a&quot; &quot;n&quot; &quot;a&quot; &quot;s&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_split</span>(sample, <span class="kw">boundary</span>(<span class="st">&quot;character&quot;</span>))[[<span class="dv">1</span>]]</code></pre></div>
<pre><code>##  [1] &quot;a&quot; &quot;p&quot; &quot;p&quot; &quot;l&quot; &quot;e&quot; &quot;s&quot; &quot;,&quot; &quot; &quot; &quot;p&quot; &quot;e&quot; &quot;a&quot; &quot;r&quot; &quot;s&quot; &quot;,&quot; &quot; &quot; &quot;a&quot; &quot;n&quot;
## [18] &quot;d&quot; &quot; &quot; &quot;b&quot; &quot;a&quot; &quot;n&quot; &quot;a&quot; &quot;n&quot; &quot;a&quot; &quot;s&quot;</code></pre>
</div>
</div>
<div id="exercises-41" class="section level2 unnumbered">
<h2><strong>14.5.1</strong> Exercises</h2>
<div id="how-would-you-find-all-strings-containing-with-regex-vs.with-fixed" class="section level3 unnumbered">
<h3>1. How would you find all strings containing  with regex() vs. with fixed()?</h3>
<p>When using regex(), we must use four backslashes for the regex to detect literal backslashes in a string. When using fixed(), we can get away with only using two backslashes to detect literal backslashes in a string. Below is an example of using both regex() and fixed() in str_subset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sample &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;this has a </span><span class="ch">\\</span><span class="st"> backslash&quot;</span>, <span class="st">&quot;this doesn&#39;t have one&quot;</span>, <span class="st">&quot;this has a </span><span class="ch">\\</span><span class="st"> backslash&quot;</span> )
sample</code></pre></div>
<pre><code>## [1] &quot;this has a \\ backslash&quot; &quot;this doesn&#39;t have one&quot;  
## [3] &quot;this has a \\ backslash&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_subset</span>(sample, <span class="kw">regex</span>(<span class="st">&quot;</span><span class="ch">\\\\</span><span class="st">&quot;</span>))</code></pre></div>
<pre><code>## [1] &quot;this has a \\ backslash&quot; &quot;this has a \\ backslash&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_subset</span>(sample, <span class="kw">fixed</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">&quot;</span>))</code></pre></div>
<pre><code>## [1] &quot;this has a \\ backslash&quot; &quot;this has a \\ backslash&quot;</code></pre>
</div>
<div id="what-are-the-five-most-common-words-in-sentences" class="section level3 unnumbered">
<h3>2. What are the five most common words in sentences?</h3>
<p>The top five most common words are “the”/“The”, “of”, “a”, “to”, and “and”. To answer this question, we first use str_extract_all() with boundary(“word”), to get all the words in a character matrix. Then, we convert the matrix into a vector, then in to a tibble so we can perform dplyr commands. Then, we can use group_by() to group by individual words, then count() to determine how many times each word was used, then arrange() to find the top words.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># extract all the words in sentences</span>
word_matrix &lt;-<span class="st"> </span><span class="kw">str_extract_all</span>(sentences, <span class="kw">boundary</span>(<span class="st">&quot;word&quot;</span>), <span class="dt">simplify =</span> T)
word_vector &lt;-<span class="st"> </span><span class="kw">as.vector</span>(word_matrix)
<span class="kw">head</span>(word_vector)</code></pre></div>
<pre><code>## [1] &quot;The&quot;   &quot;Glue&quot;  &quot;It&#39;s&quot;  &quot;These&quot; &quot;Rice&quot;  &quot;The&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># use group_by, count(), and arrange() to find the top 5 words</span>
<span class="kw">tibble</span>(word_vector) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(word_vector) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">count</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(n))</code></pre></div>
<pre><code>## # A tibble: 2,062 x 2
## # Groups:   word_vector [2,062]
##    word_vector     n
##    &lt;chr&gt;       &lt;int&gt;
##  1 &quot;&quot;           2892
##  2 the           489
##  3 The           262
##  4 of            132
##  5 a             130
##  6 to            119
##  7 and           118
##  8 in             85
##  9 is             81
## 10 A              72
## # … with 2,052 more rows</code></pre>
</div>
</div>
<div id="exercises-42" class="section level2 unnumbered">
<h2><strong>14.7.1</strong> Exercises</h2>
<div id="find-the-stringi-functions-that" class="section level3 unnumbered">
<h3>1. Find the stringi functions that:</h3>
<ul>
<li>Count the number of words.</li>
<li>Find duplicated strings.</li>
<li>Generate random text.</li>
</ul>
<p>To find these functions, first load the stringi package and type “stri_”. If using rstudio, you can then see all the various functions that show up and read a short description if you hover over their names. Below are the functions that perform the actions specified.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(stringi)
<span class="co"># count number of words</span>
<span class="kw">stri_count_words</span>(sentences) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>(<span class="dv">10</span>)</code></pre></div>
<pre><code>##  [1] 8 8 9 9 7 7 8 8 7 8</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># find duplicated strings</span>
sample &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;hello&quot;</span>, <span class="st">&quot;world&quot;</span>, <span class="st">&quot;this&quot;</span>, <span class="st">&quot;hello&quot;</span>)
<span class="kw">stri_duplicated</span>(sample)</code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># generate random text</span>
<span class="kw">stri_rand_strings</span>(<span class="dv">5</span>, <span class="dv">10</span>)</code></pre></div>
<pre><code>## [1] &quot;De05mCCAvq&quot; &quot;PmnEGmcHbW&quot; &quot;dvn2h5qMzm&quot; &quot;m868pmDieA&quot; &quot;4R337r67XS&quot;</code></pre>
</div>
<div id="how-do-you-control-the-language-that-stri_sort-uses-for-sorting" class="section level3 unnumbered">
<h3>2. How do you control the language that stri_sort() uses for sorting?</h3>
<p>To determine the language that stri_sort() uses for sorting, you must specify the locale argument. For stri_sort(), you input a character vector, and then specify the decreasing argument to get a sorted version of the character vector. Decreasing = T will sort the vector such that the strings that start with a letter closer to the end of the alphabet are ranked earlier.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># sort the sentences vector, locale = en_US</span>
<span class="kw">stri_sort</span>(sentences, <span class="dt">decreasing =</span> <span class="ot">TRUE</span>, <span class="dt">locale =</span> <span class="st">&quot;en_US&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>(<span class="dv">10</span>)</code></pre></div>
<pre><code>##  [1] &quot;You cannot brew tea in a cold pot.&quot;          
##  [2] &quot;Yell and clap as the curtain slides back.&quot;   
##  [3] &quot;Xew pants lack cuffs and pockets.&quot;           
##  [4] &quot;Write fast, if you want to finish early.&quot;    
##  [5] &quot;Write at once or you may forget it.&quot;         
##  [6] &quot;Write a fond note to the friend you cherish.&quot;
##  [7] &quot;Wood is best for making toys and blocks.&quot;    
##  [8] &quot;Women form less than half of the group.&quot;     
##  [9] &quot;Wipe the grease off his dirty face.&quot;         
## [10] &quot;Will you please answer that phone.&quot;</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chapter-13-relational-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chapter-15-factors.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["r4ds-walkthrough.pdf", "r4ds-walkthrough.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
